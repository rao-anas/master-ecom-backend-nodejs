{"level":"error","message":"Error getting product by ID: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":404,"timestamp":"2025-12-13 20:40:24"}
{"error":"Product not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/693d88e899434596d2caad54","query":{},"requestId":"0093314c-32e6-4a09-95a3-f7be74a78bf7","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:40:24"}
{"kind":"ObjectId","level":"error","message":"Error getting product by ID: Invalid product ID format","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":400,"stringValue":"\"invalid-id\"","timestamp":"2025-12-13 20:40:24","value":"invalid-id","valueType":"string"}
{"error":"Invalid product ID format","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/invalid-id","query":{},"requestId":"3f84c816-d9ee-4518-8fb1-415953576d83","service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:40:24"}
{"level":"error","message":"Error getting product by ID: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":404,"timestamp":"2025-12-13 20:40:48"}
{"error":"Product not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/693d89003d55bfb992b577b1","query":{},"requestId":"679f115c-dbe6-4851-be39-64d0f0edb57e","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:40:48"}
{"kind":"ObjectId","level":"error","message":"Error getting product by ID: Invalid product ID format","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":400,"stringValue":"\"invalid-id\"","timestamp":"2025-12-13 20:40:48","value":"invalid-id","valueType":"string"}
{"error":"Invalid product ID format","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/invalid-id","query":{},"requestId":"a11cf747-2690-45be-83ff-a65cb8b7b569","service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:40:48"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-13 20:45:28"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693d8a18464abdb91fe068cc"},"requestId":"be1a88bd-cf4f-4469-9713-4cca371d074a","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-13 20:45:28"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-13 20:45:28"}
{"body":{"productId":"693d8a18c6edb82ffb77668c","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"9d2c0f56-9bbf-423d-bb20-fa30592edcba","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-13 20:45:28"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-13 20:45:28"}
{"body":{"productId":"693d8a1881b375f505f64919","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"8b60e876-8c92-489b-86c3-e98bbfae6217","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:45:28"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-13 20:45:46"}
{"body":{"productId":"693d8a2aac064529d038e9ca","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"09e5ee2a-96c0-4f07-83ac-6b69a919d53b","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:45:46"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-13 20:45:46"}
{"body":{"productId":"693d8a2aac064529d038e9d0","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"bdcf689e-8225-401c-9d11-c461c0ebcb8c","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:45:46"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-13 20:46:33"}
{"body":{"productId":"693d8a5993ce54a5c4f974d3","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"1a25dda1-b922-46a2-b728-559ef57ddba1","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-13 20:46:33"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-13 20:46:33"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693d8a5992d72f1106f05d62"},"requestId":"c32510e9-41e7-4bca-b30a-16ec2773b03d","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-13 20:46:33"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-13 20:46:33"}
{"body":{"productId":"693d8a590f418123b2301593","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"b7b0eb4c-a865-442d-accd-6452c5dd7054","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:46:33"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-13 20:46:33"}
{"body":{"productId":"693d8a590f418123b2301599","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"fd43ac88-070a-4382-ba86-69db90802267","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:46:33"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-13 20:46:55"}
{"body":{"productId":"693d8a6f3a4ce4cbc52aec25","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"04799d7d-6a5a-46ab-a022-d8c0adf38303","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:46:55"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-13 20:46:55"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-13 20:46:55"}
{"body":{"productId":"693d8a6fd622dcd9ac972a99","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"af4091ce-64d7-4053-948c-b271f752a999","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-13 20:46:55"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-13 20:46:55"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693d8a6f0c8f21e1d738d3fe"},"requestId":"d00b6c26-cbed-4186-a158-402fa3d3d2fb","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-13 20:46:55"}
{"body":{"productId":"693d8a6f3a4ce4cbc52aec2b","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"ad6d9c32-c8f1-4fca-a3c3-68a2122382c5","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:46:55"}
{"level":"error","message":"Error creating Stripe payment intent: Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.","service":"ecommerce-api","stack":"Error: Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.\n    at PaymentService.createPaymentIntent (/Users/arshah/s-prod-ecom/backend/src/services/PaymentService.js:20:15)\n    at OrderService.createPaymentIntent [as createCheckoutSession] (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:45:46)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:54:16"}
{"level":"error","message":"Error creating checkout session: Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.","service":"ecommerce-api","stack":"Error: Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.\n    at PaymentService.createPaymentIntent (/Users/arshah/s-prod-ecom/backend/src/services/PaymentService.js:20:15)\n    at OrderService.createPaymentIntent [as createCheckoutSession] (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:45:46)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:54:16"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"33eae87f-6df2-4a36-975f-d0dc805fe2d0","service":"ecommerce-api","stack":"Error: Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.\n    at PaymentService.createPaymentIntent (/Users/arshah/s-prod-ecom/backend/src/services/PaymentService.js:20:15)\n    at OrderService.createPaymentIntent [as createCheckoutSession] (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:45:46)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:54:16"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:54:16"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"f7eec39c-a369-4fe0-b525-65c8c124efd3","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:54:16"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=YVt-1jWAySZ_nndFpkWf1RK3O4aQnft1qoRq-FNlLlenkUZt7tu46Fq60FEUdE4IsTda_YECVFycXKJ6","content-type":"application/json","date":"Sat, 13 Dec 2025 15:54:48 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating Stripe payment intent: Invalid API Key provided: sk_test_***********************ting","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=YVt-1jWAySZ_nndFpkWf1RK3O4aQnft1qoRq-FNlLlenkUZt7tu46Fq60FEUdE4IsTda_YECVFycXKJ6","content-type":"application/json","date":"Sat, 13 Dec 2025 15:54:48 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_***********************ting","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_***********************ting\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-13 20:54:48","type":"StripeAuthenticationError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=YVt-1jWAySZ_nndFpkWf1RK3O4aQnft1qoRq-FNlLlenkUZt7tu46Fq60FEUdE4IsTda_YECVFycXKJ6","content-type":"application/json","date":"Sat, 13 Dec 2025 15:54:48 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating checkout session: Invalid API Key provided: sk_test_***********************ting","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=YVt-1jWAySZ_nndFpkWf1RK3O4aQnft1qoRq-FNlLlenkUZt7tu46Fq60FEUdE4IsTda_YECVFycXKJ6","content-type":"application/json","date":"Sat, 13 Dec 2025 15:54:48 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_***********************ting","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_***********************ting\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-13 20:54:48","type":"StripeAuthenticationError"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Invalid API Key provided: sk_test_***********************ting","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"e6820cd1-bb26-46ec-9ac4-f4c84448e84f","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_***********************ting\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-13 20:54:48"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:54:48"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"1780994d-51c7-4d76-9d97-1d7c14934cfb","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:54:48"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=FiZo5jC1k8uENo8tZSQh2zUXKoj1_jmshX1qLn32sUvHaVS-6lQOuDd8B5yse820zj3E1qphOMUlgrOT","content-type":"application/json","date":"Sat, 13 Dec 2025 15:55:08 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating Stripe payment intent: Invalid API Key provided: sk_test_***********************ting","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=FiZo5jC1k8uENo8tZSQh2zUXKoj1_jmshX1qLn32sUvHaVS-6lQOuDd8B5yse820zj3E1qphOMUlgrOT","content-type":"application/json","date":"Sat, 13 Dec 2025 15:55:08 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_***********************ting","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_***********************ting\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-13 20:55:08","type":"StripeAuthenticationError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=FiZo5jC1k8uENo8tZSQh2zUXKoj1_jmshX1qLn32sUvHaVS-6lQOuDd8B5yse820zj3E1qphOMUlgrOT","content-type":"application/json","date":"Sat, 13 Dec 2025 15:55:08 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating checkout session: Invalid API Key provided: sk_test_***********************ting","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"137","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=FiZo5jC1k8uENo8tZSQh2zUXKoj1_jmshX1qLn32sUvHaVS-6lQOuDd8B5yse820zj3E1qphOMUlgrOT","content-type":"application/json","date":"Sat, 13 Dec 2025 15:55:08 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_***********************ting","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_***********************ting\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-13 20:55:08","type":"StripeAuthenticationError"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Invalid API Key provided: sk_test_***********************ting","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"77016d1e-babb-4608-9240-6a34bd12da27","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_***********************ting\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-13 20:55:08"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:55:08"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"790145f6-48f9-4886-b7f0-b5597a70078e","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:55:08"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:55:19"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"37a7486a-ff1a-4b8b-a2e4-32e4645df230","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:55:19"}
{"_message":"Order validation failed","errors":{"orderNumber":{"kind":"required","message":"Path `orderNumber` is required.","name":"ValidatorError","path":"orderNumber","properties":{"message":"Path `orderNumber` is required.","path":"orderNumber","type":"required"}}},"level":"error","message":"Error confirming checkout: Order validation failed: orderNumber: Path `orderNumber` is required.","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:55:41"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"checkoutSessionId":"checkout_session_123","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Order validation failed: orderNumber: Path `orderNumber` is required.","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"7b0bccec-0630-4715-8b6f-22301988368a","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:55:41"}
{"_message":"Order validation failed","errors":{"orderNumber":{"kind":"required","message":"Path `orderNumber` is required.","name":"ValidatorError","path":"orderNumber","properties":{"message":"Path `orderNumber` is required.","path":"orderNumber","type":"required"}}},"level":"error","message":"Error confirming checkout: Order validation failed: orderNumber: Path `orderNumber` is required.","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:55:52"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"checkoutSessionId":"checkout_1234567890_abc123","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Order validation failed: orderNumber: Path `orderNumber` is required.","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"f6289694-c0c7-40f2-b6d1-89f3ee23ac35","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:55:52"}
{"_message":"Order validation failed","errors":{"orderNumber":{"kind":"required","message":"Path `orderNumber` is required.","name":"ValidatorError","path":"orderNumber","properties":{"message":"Path `orderNumber` is required.","path":"orderNumber","type":"required"}}},"level":"error","message":"Error confirming checkout: Order validation failed: orderNumber: Path `orderNumber` is required.","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:03"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"checkoutSessionId":"checkout_1234567890_abc123","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Order validation failed: orderNumber: Path `orderNumber` is required.","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"a2690efa-6957-4d4a-bec9-b207cf2f9520","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:03"}
{"_message":"Order validation failed","errors":{"orderNumber":{"kind":"required","message":"Path `orderNumber` is required.","name":"ValidatorError","path":"orderNumber","properties":{"message":"Path `orderNumber` is required.","path":"orderNumber","type":"required"}}},"level":"error","message":"Error confirming checkout: Order validation failed: orderNumber: Path `orderNumber` is required.","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:16"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"checkoutSessionId":"checkout_1234567890_abc123","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Order validation failed: orderNumber: Path `orderNumber` is required.","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"6244bf9b-5d05-4d7d-a477-efe89226d48e","service":"ecommerce-api","stack":"ValidationError: Order validation failed: orderNumber: Path `orderNumber` is required.\n    at model.Document.invalidate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at Function.create (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:152:21)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:16"}
{"code":20,"codeName":"IllegalOperation","errorLabelSet":{},"errorResponse":{"code":20,"codeName":"IllegalOperation","errmsg":"Transaction numbers are only allowed on a replica set member or mongos","ok":0},"level":"error","message":"Error decrementing inventory: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"service":"ecommerce-api","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/find_cursor.ts:92:22)\n    at FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:552:20)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2721:15)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at /Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:59:29\n    at async Promise.all (index 0)\n    at InventoryService.decrementStock (/Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:57:34)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:188:7)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:28"}
{"code":20,"codeName":"IllegalOperation","errorLabelSet":{},"errorResponse":{"code":20,"codeName":"IllegalOperation","errmsg":"Transaction numbers are only allowed on a replica set member or mongos","ok":0},"level":"error","message":"Error confirming checkout: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"service":"ecommerce-api","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/find_cursor.ts:92:22)\n    at FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:552:20)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2721:15)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at /Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:59:29\n    at async Promise.all (index 0)\n    at InventoryService.decrementStock (/Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:57:34)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:188:7)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:28"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"checkoutSessionId":"checkout_1234567890_abc123","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"2f06ef3b-339a-426e-956d-dff8d22bbb0b","service":"ecommerce-api","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/find_cursor.ts:92:22)\n    at FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:552:20)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2721:15)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at /Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:59:29\n    at async Promise.all (index 0)\n    at InventoryService.decrementStock (/Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:57:34)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:188:7)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:28"}
{"code":20,"codeName":"IllegalOperation","errorLabelSet":{},"errorResponse":{"code":20,"codeName":"IllegalOperation","errmsg":"Transaction numbers are only allowed on a replica set member or mongos","ok":0},"level":"error","message":"Error decrementing inventory: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"service":"ecommerce-api","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/find_cursor.ts:92:22)\n    at FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:552:20)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2721:15)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at /Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:59:29\n    at async Promise.all (index 0)\n    at InventoryService.decrementStock (/Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:57:34)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:188:7)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:51"}
{"code":20,"codeName":"IllegalOperation","errorLabelSet":{},"errorResponse":{"code":20,"codeName":"IllegalOperation","errmsg":"Transaction numbers are only allowed on a replica set member or mongos","ok":0},"level":"error","message":"Error confirming checkout: Transaction numbers are only allowed on a replica set member or mongos","ok":0,"service":"ecommerce-api","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/find_cursor.ts:92:22)\n    at FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:552:20)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2721:15)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at /Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:59:29\n    at async Promise.all (index 0)\n    at InventoryService.decrementStock (/Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:57:34)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:188:7)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:51"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"checkoutSessionId":"checkout_1234567890_abc123","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Transaction numbers are only allowed on a replica set member or mongos","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"52ad85b3-f4b5-486f-83c0-6c15798254b1","service":"ecommerce-api","stack":"MongoServerError: Transaction numbers are only allowed on a replica set member or mongos\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/find_cursor.ts:92:22)\n    at FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:552:20)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2721:15)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at /Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:59:29\n    at async Promise.all (index 0)\n    at InventoryService.decrementStock (/Users/arshah/s-prod-ecom/backend/src/services/InventoryService.js:57:34)\n    at OrderService.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:188:7)\n    at CheckoutController.confirmCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:56:22)","timestamp":"2025-12-13 20:56:51"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:57:27"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"1447e88e-5b10-4ec0-9c85-9033d78fc5ab","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:57:27"}
{"details":[{"available":false,"availableStock":5,"productId":"693d8ce75028cfefb7c69a1e","reason":"Insufficient stock","requested":10}],"level":"error","message":"Error creating checkout session: Some products are out of stock or unavailable","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:57:27"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Some products are out of stock or unavailable","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"59747de8-1fcf-4ed1-ad19-0801f6d17a24","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:57:27"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:58:06"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"45f0024c-d06f-4b2e-bf55-0729c4e94f1f","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:58:06"}
{"details":[{"available":false,"availableStock":5,"productId":"693d8d0e6577bf09394ef5a5","reason":"Insufficient stock","requested":10}],"level":"error","message":"Error creating checkout session: Some products are out of stock or unavailable","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:58:06"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Some products are out of stock or unavailable","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"9b08f6c3-e3dc-419f-a7e3-e05786ad0ccc","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:58:06"}
{"details":[{"available":false,"availableStock":5,"productId":"693d8d1b368bdceaa59426ce","reason":"Insufficient stock","requested":10}],"level":"error","message":"Error creating checkout session: Some products are out of stock or unavailable","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:58:19"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Some products are out of stock or unavailable","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"86ba248f-8fc5-4526-9efd-2d77162efe68","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:58:19"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:59:00"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"4fe2fa09-6161-4924-af30-f1b369f0d881","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:59:00"}
{"details":[{"available":false,"availableStock":5,"productId":"693d8d44d219540df39ef415","reason":"Insufficient stock","requested":10}],"level":"error","message":"Error creating checkout session: Some products are out of stock or unavailable","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:59:00"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Some products are out of stock or unavailable","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"b74eb89b-36d8-4b53-874e-bebda5ac666c","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:59:00"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:59:11"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"ace17640-46bd-48be-bd83-b1b99c905a2c","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:59:11"}
{"details":[{"available":false,"availableStock":5,"productId":"693d8d4f7d323fb3473940fa","reason":"Insufficient stock","requested":10}],"level":"error","message":"Error creating checkout session: Some products are out of stock or unavailable","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:59:11"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Some products are out of stock or unavailable","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"5dc3fb24-cade-4f4e-90fc-476196589854","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:59:11"}
{"code":27,"codeName":"IndexNotFound","errorLabelSet":{},"errorResponse":{"code":27,"codeName":"IndexNotFound","errmsg":"text index required for $text query","ok":0},"level":"error","message":"Error listing products: text index required for $text query","ok":0,"service":"ecommerce-api","stack":"MongoServerError: text index required for $text query\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at AggregationCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/aggregation_cursor.ts:92:22)\n    at AggregationCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at AggregationCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at AggregationCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.countDocuments (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:849:17)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at ProductService.listProducts (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:55:21)\n    at ProductController.listProducts (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:20:22)","timestamp":"2025-12-13 20:59:12"}
{"error":"text index required for $text query","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products","query":{"search":"computer"},"requestId":"9491064e-cfc4-48ac-849d-db5cff22af42","service":"ecommerce-api","stack":"MongoServerError: text index required for $text query\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at AggregationCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/aggregation_cursor.ts:92:22)\n    at AggregationCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at AggregationCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at AggregationCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.countDocuments (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:849:17)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at ProductService.listProducts (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:55:21)\n    at ProductController.listProducts (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:20:22)","timestamp":"2025-12-13 20:59:12"}
{"code":27,"codeName":"IndexNotFound","errorLabelSet":{},"errorResponse":{"code":27,"codeName":"IndexNotFound","errmsg":"text index required for $text query","ok":0},"level":"error","message":"Error listing products: text index required for $text query","ok":0,"service":"ecommerce-api","stack":"MongoServerError: text index required for $text query\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at AggregationCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/aggregation_cursor.ts:92:22)\n    at AggregationCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at AggregationCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at AggregationCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.countDocuments (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:849:17)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at ProductService.listProducts (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:55:21)\n    at ProductController.listProducts (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:20:22)","timestamp":"2025-12-13 20:59:12"}
{"error":"text index required for $text query","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products","query":{"search":"headphones"},"requestId":"2bc1acdb-bf01-4923-bdd9-e84458259071","service":"ecommerce-api","stack":"MongoServerError: text index required for $text query\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:557:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cmap/connection.ts:627:22)\n    at Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/sdam/server.ts:350:21)\n    at tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:293:24)\n    at executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/operations/execute_operation.ts:123:12)\n    at AggregationCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/aggregation_cursor.ts:92:22)\n    at AggregationCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:917:21)\n    at AggregationCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:955:7)\n    at AggregationCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/cursor/abstract_cursor.ts:573:9)\n    at Collection.countDocuments (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/src/collection.ts:849:17)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at ProductService.listProducts (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:55:21)\n    at ProductController.listProducts (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:20:22)","timestamp":"2025-12-13 20:59:12"}
{"level":"error","message":"Error getting product by ID: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":404,"timestamp":"2025-12-13 20:59:13"}
{"error":"Product not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/693d8d511820dcf1af06bce8","query":{},"requestId":"f28f0fdd-08d8-43e9-b182-5667319e925f","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:59:13"}
{"kind":"ObjectId","level":"error","message":"Error getting product by ID: Invalid product ID format","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":400,"stringValue":"\"invalid-id\"","timestamp":"2025-12-13 20:59:14","value":"invalid-id","valueType":"string"}
{"error":"Invalid product ID format","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/invalid-id","query":{},"requestId":"79ed5778-be8d-4299-a8c4-1a3d84aa8d06","service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:59:14"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-13 20:59:14"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693d8d52dd1c5712a4192161"},"requestId":"04af32ae-612a-4d09-bc5d-7b84bb55a8b6","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-13 20:59:14"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-13 20:59:14"}
{"body":{"productId":"693d8d527b0f6b99b7c4f0c9","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"7c90d956-c7db-445f-8efc-f6928e56ad63","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-13 20:59:14"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-13 20:59:14"}
{"body":{"productId":"693d8d524865b0258780da3c","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"ca96e359-9701-4518-801a-220e548ea48f","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:59:14"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-13 20:59:14"}
{"body":{"productId":"693d8d524865b0258780da45","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"97ee9744-04a3-4086-b531-397f8ab154ef","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:59:14"}
{"details":[{"available":false,"availableStock":5,"productId":"693d8d6e31212c3e19904006","reason":"Insufficient stock","requested":10}],"level":"error","message":"Error creating checkout session: Some products are out of stock or unavailable","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:59:42"}
{"body":{"billingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"},"paymentMethod":"cash_on_delivery","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Some products are out of stock or unavailable","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"5e6db0ca-6109-4c13-a04b-8486212b203d","service":"ecommerce-api","stack":"Error: Some products are out of stock or unavailable\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:31:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:59:42"}
{"level":"error","message":"Error creating checkout session: Cart is empty","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","statusCode":400,"timestamp":"2025-12-13 20:59:42"}
{"body":{"paymentMethod":"stripe","shippingAddress":{"city":"City","country":"Country","state":"State","street":"123 Main St","zipCode":"12345"}},"error":"Cart is empty","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"a8bfc43d-20bf-4857-80b3-34b9772aad27","service":"ecommerce-api","stack":"Error: Cart is empty\n    at OrderService.createCheckoutSession (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:23:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CheckoutController.createCheckout (/Users/arshah/s-prod-ecom/backend/src/controllers/CheckoutController.js:14:31)","timestamp":"2025-12-13 20:59:42"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-13 20:59:45"}
{"body":{"productId":"693d8d71a006251122d3b93c","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"4b7ed712-abbf-4ef0-9108-830b162f681f","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:121:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-13 20:59:45"}
{"level":"error","message":"Error getting product by ID: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":404,"timestamp":"2025-12-13 20:59:45"}
{"error":"Product not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/693d8d713c2771c742818b0e","query":{},"requestId":"2e3419a8-6947-43c8-96af-8981f77939de","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:98:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:59:45"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-13 20:59:45"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693d8d71e2d12731203f4ce8"},"requestId":"9f749a1f-9f97-4ab0-b997-6dc420fa02dc","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:174:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-13 20:59:45"}
{"kind":"ObjectId","level":"error","message":"Error getting product by ID: Invalid product ID format","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","statusCode":400,"stringValue":"\"invalid-id\"","timestamp":"2025-12-13 20:59:45","value":"invalid-id","valueType":"string"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-13 20:59:45"}
{"error":"Invalid product ID format","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/invalid-id","query":{},"requestId":"039b648f-83f7-4b8a-8bf8-d1bc2c26320d","service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at ProductService.getProductById (/Users/arshah/s-prod-ecom/backend/src/services/ProductService.js:95:23)\n    at ProductController.getProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/ProductController.js:48:23)","timestamp":"2025-12-13 20:59:45"}
{"body":{"productId":"693d8d7117dab7fba14008cf","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"473eaecc-a7dd-485e-a37d-5c14967d57e7","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:51:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:59:45"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-13 20:59:45"}
{"body":{"productId":"693d8d7117dab7fba14008d8","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"329ab0e1-ddd5-4e32-8223-04081c962d48","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:57:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CartController.addItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-13 20:59:45"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:13:22)","statusCode":400,"timestamp":"2025-12-13 21:10:44"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"362ea403-013d-47ac-9126-8f9d3fbf3fe2","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:13:22)","timestamp":"2025-12-13 21:10:44"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:10:54"}
{"body":{"email":"test@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"b16dd22c-8ef7-461f-bb87-b217ddafd9de","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:10:54"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:10:54"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"0716b51a-335e-4cb6-9725-d130483c8b87","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:10:54"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:10:54"}
{"body":{"email":"existing@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"505c89bb-d8d9-443a-bbc4-2e6a52a88823","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:10:54"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:10:54"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"13375ff8-549c-4d69-a4f2-fe28c56c1e1f","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:10:54"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:11:06"}
{"body":{"email":"test@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"9892f0c7-be92-48f8-aa75-fe79484cd4b4","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:11:06"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:11:06"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"9fa5393c-47bf-4cf6-8336-2bf7b0817617","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:11:06"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:11:06"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"6880bc5a-dcec-4f30-8496-c4c97d750134","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:11:06"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:11:34"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"ecc3cf46-80dc-4afc-8d49-45619d19814b","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:11:34"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:11:34"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"ad6277bc-b9a0-4e5e-ba68-e7e92a212bc0","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:11:34"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:13:04"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"42b3bc4b-572c-4375-9176-c3cc7e9e3a5d","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:13:04"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:13:22)","statusCode":400,"timestamp":"2025-12-13 21:13:04"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"4882800f-97a3-46ae-911f-6f9622e91673","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:13:22)","timestamp":"2025-12-13 21:13:04"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","statusCode":401,"timestamp":"2025-12-13 21:13:05"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"0ab632a7-3ada-45db-9ee3-d158c0220f25","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:40:22)","timestamp":"2025-12-13 21:13:05"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:08"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:08"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"666be5b2-7d3b-4c9d-bb5f-0eadaf59e52f","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:16:08"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:08"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:08"}
{"body":{"password":"NewPassword123","token":"398e49dfc7e91eb75664b65878b42394bcbf6ec49b0d625e66419c71a4cf451b"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"bf20ca4c-cb30-47ec-8f69-87333616ff41","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:16:08"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:16:13"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"45500350-a82a-4123-b854-971cd9f77192","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:16:13"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:16:26"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","statusCode":400,"timestamp":"2025-12-13 21:16:26"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"5f3a74d5-0c2c-452c-81bf-a038847dfe0f","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:16:26"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"9bb3888f-2c34-4824-a461-20bc1f7ff9a6","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","timestamp":"2025-12-13 21:16:26"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:16:26"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"467ae103-5d62-41c1-bab7-edbcc142735e","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:16:26"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:16:26"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"51503beb-52f8-476e-a76b-2ae7feb0a1be","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:16:26"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:28"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:28"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"f023ecd7-8505-45e6-a436-912a9e788d5e","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:16:28"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:28"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:28"}
{"body":{"password":"NewPassword123","token":"e8d72bfd879043ebe86ccfa753f0815e40e8707d4784bca272fb88c10392eafd"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"c5ad3acf-f3d6-48b7-b3fe-570a7a837799","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:16:28"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","statusCode":400,"timestamp":"2025-12-13 21:16:40"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"ed09b6ea-b8cc-403d-92a8-2d009153620a","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","timestamp":"2025-12-13 21:16:40"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:16:40"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"74ddda93-4734-4043-95e6-791ec9d5c2d7","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:16:40"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:16:40"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"66ca569a-9afa-49b6-890b-2b40d9ccf507","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:16:40"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:16:40"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"8500638f-4c7e-4f9e-b816-bbe13d1f3158","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:16:40"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:42"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:42"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"27e9f77c-5ce1-4972-a215-f168eff00717","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:16:42"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:42"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:16:42"}
{"body":{"password":"NewPassword123","token":"6ffb03d4833b64476900b1f4253de0893bbed91087e7a7021616b4426036af82"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"74313d3d-4f40-4564-98c8-d66bc1006892","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:16:42"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:17:20"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"e7a46c6e-cd85-4a41-aab8-0dd0adaaa9b2","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:17:20"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","statusCode":400,"timestamp":"2025-12-13 21:17:20"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"bd3e965c-c76b-4912-8e4a-976d1331521f","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","timestamp":"2025-12-13 21:17:20"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:17:20"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"13e9d555-83da-461b-b5a3-08b19b705549","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:17:20"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:17:20"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"a481f00f-b0bf-486f-90f9-20fa9422c95b","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:17:20"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:22"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:22"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"a7b0f3fd-c271-45f2-ab0d-0be670477366","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:17:22"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:22"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:22"}
{"body":{"password":"NewPassword123","token":"6c73643e77c6b9a4708815d3ce4aa123d10e3da28ed7e2447ccfa307f73db9ac"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"acabf2ad-18b6-470f-8df6-73cc7841e920","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:17:22"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:17:36"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"1b60a4f1-cd79-4e39-8000-b47e4e3e26b7","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:17:36"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","statusCode":400,"timestamp":"2025-12-13 21:17:36"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"ecb8e93f-ac27-4501-85e0-f00fb9620094","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:16:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthController.register (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:14:22)","timestamp":"2025-12-13 21:17:36"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:17:36"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"96962208-caa3-4fd4-86f7-2c20605b9ac7","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at model.Query.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/arshah/s-prod-ecom/backend/src/services/UserService.js:41:20)\n    at UserController.updateProfile (/Users/arshah/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-13 21:17:36"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 21:17:36"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"2da4acfe-a7de-41e9-84be-b41e57a73ba2","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 21:17:36"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:38"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:38"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"40f745b7-2666-48ec-939b-07d2323f421e","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:17:38"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:38"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","statusCode":400,"timestamp":"2025-12-13 21:17:38"}
{"body":{"password":"NewPassword123","token":"e9abf04a5047c2006fe114beac3684f711491a727982bdc85d2cfc52c388ac5e"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"6ee5907d-470f-46a7-9b8a-f8929227e6db","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at PasswordService.resetPassword (/Users/arshah/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:85:7)","timestamp":"2025-12-13 21:17:38"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 22:15:53"}
{"body":{"email":"admin@example.com","password":"YourPassword123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"87106a0c-3a5b-4621-a2a7-d3f1d1436d86","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 22:15:53"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 22:16:20"}
{"body":{"email":"admin@example.com","password":"Admin123!"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"7a11cceb-3761-45a4-9fc1-44f4ac85495c","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 22:16:20"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 22:16:33"}
{"body":{"email":"admin@example.com","password":"Admin123!"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"d1741955-9f5d-448c-ac80-8757a58a2bb4","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 22:16:33"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-13 22:16:39"}
{"body":{"email":"admin@example.com","password":"Admin123!"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"827f1d16-5b9d-45ce-8850-c59cb0632c45","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:86:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-13 22:16:39"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=yACeyVN2Wr9dpeomwRd21RD68ulwiZ_T4r88sWrpkUHykPeHJOe4XTdHs2nQBKQGbH8ZxXkUDlYnIxHe","content-type":"application/json","date":"Sat, 13 Dec 2025 18:31:21 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating Stripe payment intent: Invalid API Key provided: sk_test_******************_key","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=yACeyVN2Wr9dpeomwRd21RD68ulwiZ_T4r88sWrpkUHykPeHJOe4XTdHs2nQBKQGbH8ZxXkUDlYnIxHe","content-type":"application/json","date":"Sat, 13 Dec 2025 18:31:21 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_******************_key","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-13 23:31:21","type":"StripeAuthenticationError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=yACeyVN2Wr9dpeomwRd21RD68ulwiZ_T4r88sWrpkUHykPeHJOe4XTdHs2nQBKQGbH8ZxXkUDlYnIxHe","content-type":"application/json","date":"Sat, 13 Dec 2025 18:31:21 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating checkout session: Invalid API Key provided: sk_test_******************_key","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=yACeyVN2Wr9dpeomwRd21RD68ulwiZ_T4r88sWrpkUHykPeHJOe4XTdHs2nQBKQGbH8ZxXkUDlYnIxHe","content-type":"application/json","date":"Sat, 13 Dec 2025 18:31:21 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_******************_key","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-13 23:31:21","type":"StripeAuthenticationError"}
{"body":{"billingAddress":{"city":"karachi","country":"pakistan","state":"sindh","street":"rafaem society mailr halt karachi","zipCode":"84059"},"paymentMethod":"stripe","shippingAddress":{"city":"karachi","country":"pakistan","state":"sindh","street":"rafaem society mailr halt karachi","zipCode":"84059"}},"error":"Invalid API Key provided: sk_test_******************_key","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"3aa87ec4-8bb6-4179-8bfb-6b29ec9df8a8","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-13 23:31:21"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:29"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"93703607-a887-4dfe-a353-a2496ed540b3","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:29"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:30"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"045163f3-95e8-4c68-beaa-e0b63a0d8174","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:30"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:30"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"b41a7462-d475-49a5-a3f4-33b149f7e909","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:30"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:32"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"31704e2c-5cc0-43b7-adb1-93252e1c96ee","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:32"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:33"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"c6c84401-afe7-44ef-b6ac-28fd7bad01d5","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:33"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:33"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"7d823217-2239-44b0-b4d5-b6979a188a08","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:33"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:34"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"937f8cae-552b-4015-9bd0-018bcef5a0c7","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:34"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:35"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"5cb58c75-6fc7-4891-828f-834b31106fad","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:35"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:35"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"bae42ae6-0689-4e42-8287-b535fc46ec3a","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:35"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:36"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"9243527f-ea10-4bb3-b300-35bf1868b5a5","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:36"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:36"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"88630456-6bbc-4ac7-9ef1-940759bff1e6","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:36"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:37"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"8d6ab501-d38e-4595-a65e-980caeb49d9a","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:37"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:38"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"21b371c2-dac4-484a-8728-ae49034a4d3c","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:38"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:39"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"6d67c907-a7c8-4c9c-abb4-ec40b3abf245","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:39"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:05:41"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"8e2c4e40-36ca-4fd2-bc8f-49fd0ad1763f","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:05:41"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:05:43"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"ff0b4684-d87d-4179-9d0c-9d75c85079da","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:05:43"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:05:46"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"98b9a542-1f29-4a7d-b94c-6f15776b7faa","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:05:46"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:47"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"d4b9e475-b693-45c4-806a-209f20b09e28","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:47"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:05:48"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"0ed8709d-6a80-4dae-abe5-32821e91726f","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:05:48"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:06:50"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"cfef0896-c41e-49bf-b335-8033c72951e0","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:06:50"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:06:50"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"909c9e91-1245-43c5-8ef1-f840f498dab5","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:06:50"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:06:52"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"afbe77a5-4ecc-40ec-a364-330e588c4704","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:06:52"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:06:52"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"d04ba22a-c97a-407c-90be-ea86d0a36eb7","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:06:52"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:06:58"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"dbb9c8d5-7eec-4ee0-b153-80930e385f76","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:06:58"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:07:25"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"28a99502-1745-4f92-a68d-f837beb5a79c","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:07:25"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:07:55"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"36a95e50-becf-43d2-98d9-4659bf3abfa8","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:07:55"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7583468049097818120"},"signature":{"hash":"MGI1Xf3GP+HI5dOW7W8s23MKGwc=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7583468049097818120"},"signature":{"hash":"MGI1Xf3GP+HI5dOW7W8s23MKGwc=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7583468049097818120"}},"level":"error","message":"Error decrementing inventory: Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","ok":0,"operationTime":{"$timestamp":"7583468049097818120"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-14 03:09:08"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7583468049097818120"},"signature":{"hash":"MGI1Xf3GP+HI5dOW7W8s23MKGwc=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7583468049097818120"},"signature":{"hash":"MGI1Xf3GP+HI5dOW7W8s23MKGwc=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7583468049097818120"}},"level":"error","message":"Error confirming checkout: Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","ok":0,"operationTime":{"$timestamp":"7583468049097818120"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-14 03:09:08"}
{"body":{"billingAddress":{"city":"karachi","country":"pakistan","state":"sindh","street":"rafaem society mailr halt karachi","zipCode":"84059"},"checkoutSessionId":"checkout_1765663743822_zbvqidl2m","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"karachi","country":"pakistan","state":"sindh","street":"rafaem society mailr halt karachi","zipCode":"84059"}},"error":"Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"ad63f4f0-3ec3-401b-ab35-af22b32e0e26","service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session a043291d-75a6-4dd0-98ed-af0c2e7b02db - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-14 03:09:08"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:09:36"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"3b7da5ca-cb35-40f3-86c0-ed8096af8f8f","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:09:36"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:09:38"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"04ba170b-fab0-4b4a-b908-0373ffcbacb7","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:09:38"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:09:38"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"ebe9a18b-e1ee-4b75-bfe9-2ad567244ba6","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:09:38"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:09:46"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"1795dd44-7755-4bff-acbd-b371328a68a9","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:09:46"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:10:42"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"d6a0d61c-2633-4d86-afd9-8087e302e0e3","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:10:42"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:10:44"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"b2670acd-47e9-4c07-9883-ca30ee12651a","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:10:44"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:10:46"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"346e9ef5-9c35-4c5e-b703-98bc17c7120c","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:10:46"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:10:47"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"eb640608-95e1-40d6-a883-e0dfe7a38158","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:10:47"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:10:49"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"663cb5e8-c41c-4c6d-a4aa-cca7cf3ee8b4","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:10:49"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:11:52"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"6d227d6f-44d5-4edf-accd-b349770a4222","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:11:52"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:11:56"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"46c92c01-ae3f-4fbe-9b18-fd5b007273b5","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:11:56"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:11:57"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"925410a9-c4da-4e37-a0d7-f8b4c9e2ebde","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:11:57"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:11:58"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"4ccb5f3d-1b49-4038-901e-0e66ef418426","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:11:58"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:12:06"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"52b33a2c-83bc-435e-b667-4c864b023c6b","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:12:06"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:13:21"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":3},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"c6d5b282-f82f-4f20-a225-de8edb7d60d8","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:13:21"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:15:17"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"982747b7-cc5a-4df1-a3c8-9c5c1b4335f3","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:15:17"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:15:36"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"6f0dfc58-9bbf-4b7a-b3b6-7f66e7c5359f","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:15:36"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:17:18"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"2a659b28-d58a-4693-a12e-c77096c2d21c","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:17:18"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:17:50"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"8750aa71-622b-431f-8c2f-97da7eeb7cbe","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:17:50"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:18:58"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"76937a34-e38a-427f-ae8c-b26f1fe7f9b8","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:125:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:18:58"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:19:27"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"3b406670-a4c9-47d8-a638-43b0b9cfabce","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:19:27"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:85:20)","statusCode":404,"timestamp":"2025-12-14 03:19:35"}
{"body":{"productId":"693daa102c8c1bc742bdad19"},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{},"requestId":"dd67872a-01ea-4f68-8b85-a22f0d322196","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:85:20)","timestamp":"2025-12-14 03:19:35"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:19:52"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"51251497-f6dd-48b3-93ff-e5387f6b9aa3","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:19:52"}
{"error":"Cannot read properties of undefined (reading 'productId')","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"cdd8c978-4eb0-4cdd-b064-077090fdfd36","service":"ecommerce-api","stack":"TypeError: Cannot read properties of undefined (reading 'productId')\n    at validateCartRemove (/Users/arshah/s-prod-ecom/backend/src/middleware/validateCart.js:34:19)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-14 03:19:54"}
{"error":"Cannot read properties of undefined (reading 'productId')","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"0efc9601-283d-4413-9382-475dcc13c832","service":"ecommerce-api","stack":"TypeError: Cannot read properties of undefined (reading 'productId')\n    at validateCartRemove (/Users/arshah/s-prod-ecom/backend/src/middleware/validateCart.js:34:19)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-14 03:19:58"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:20:02"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"fbacacf6-7b4a-47ba-8cbc-ac02c10533ab","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:20:02"}
{"error":"Cannot read properties of undefined (reading 'productId')","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"47c4499e-3b76-481f-a133-aabbb4e0e128","service":"ecommerce-api","stack":"TypeError: Cannot read properties of undefined (reading 'productId')\n    at validateCartRemove (/Users/arshah/s-prod-ecom/backend/src/middleware/validateCart.js:34:19)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-14 03:20:04"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:20:47"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"fe583bf1-7297-4bbc-8d00-f041fae62ba5","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:20:47"}
{"error":"Cannot read properties of undefined (reading 'productId')","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"22800b34-3cdc-4c2b-adad-5294c131f2bd","service":"ecommerce-api","stack":"TypeError: Cannot read properties of undefined (reading 'productId')\n    at validateCartRemove (/Users/arshah/s-prod-ecom/backend/src/middleware/validateCart.js:34:19)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-14 03:20:49"}
{"error":"Cannot read properties of undefined (reading 'productId')","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"e472d8bb-bcd4-433a-8ba6-ec0b0773b9ec","service":"ecommerce-api","stack":"TypeError: Cannot read properties of undefined (reading 'productId')\n    at validateCartRemove (/Users/arshah/s-prod-ecom/backend/src/middleware/validateCart.js:34:19)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-14 03:20:51"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:85:20)","statusCode":404,"timestamp":"2025-12-14 03:21:42"}
{"body":{"productId":"693daa102c8c1bc742bdad19"},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{},"requestId":"dc00f6f5-9d91-4ed8-aecb-27e48561f9e5","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:85:20)","timestamp":"2025-12-14 03:21:42"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:23:17"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":11},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"81ca4ecb-177d-4e41-8da5-bcfb31b7c4e9","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:23:17"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:23:20"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":13},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"01812383-0ed1-41a1-a284-1e7babd91b8d","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:23:20"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:23:21"}
{"body":{"productId":"693daa102c8c1bc742bdad19"},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{},"requestId":"775105ad-e48e-4868-8b56-1447320cdff3","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:23:21"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:25:17"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":4},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"a7244781-6e44-402f-b265-bdd8c2cb7600","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:25:17"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:25:19"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"e6f7319a-0a1f-44d7-8f31-0f7efc062c4a","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:25:19"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:25:26"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"0042cea1-e89c-4ba4-b3cf-c559c1cb0e3c","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:25:26"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:26:37"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"0be9a133-62ae-4275-848a-556bf84e237e","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:26:37"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:26:41"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"21cd719c-f780-4a76-a084-c21967e75e31","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:26:41"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:28:37"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"81b3e285-3e26-485c-b09c-ae5a3a7813ae","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:28:37"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:28:52"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"d4e218be-dc3f-4224-b09f-a1b786709624","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:28:52"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:28:54"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"3f4cd038-ec0c-40b1-b0ed-930af5e210e1","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:28:54"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:28:55"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"e3d19766-9d91-4669-b1ff-f9fa75c76750","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:28:55"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:28:57"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"f74a9995-f7a3-4b1c-928d-c4f2fe259cc3","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:28:57"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:28:58"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"267de8ce-561e-4c89-9cfb-0c1179413346","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:28:58"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:29:00"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"60ab3957-6ff1-466c-a95e-eea8774a0e4a","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:29:00"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-14 03:29:16"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"693daa102c8c1bc742bdad19"},"requestId":"ee6a9e4e-b3e8-4558-a6cf-5cd75cf28e37","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:180:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.removeItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-14 03:29:16"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:31:37"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"f1dd3ffe-dc0e-410b-aea1-860c9a2379e2","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:31:37"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-14 03:31:40"}
{"body":{"productId":"693daa102c8c1bc742bdad19","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"e2184d36-9f6e-4ebe-918e-758e4e5c219d","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/arshah/s-prod-ecom/backend/src/services/CartService.js:124:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async CartController.updateItem (/Users/arshah/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-14 03:31:40"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=qKpMDtKWd7GdxMxlqSzAhapXj2KYnZVKqbDQKq_SrNx8Yz6T_rFPqjmege46MRaDBWLkOTlKoAJh3xjT","content-type":"application/json","date":"Sat, 13 Dec 2025 22:35:01 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating Stripe payment intent: Invalid API Key provided: sk_test_******************_key","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=qKpMDtKWd7GdxMxlqSzAhapXj2KYnZVKqbDQKq_SrNx8Yz6T_rFPqjmege46MRaDBWLkOTlKoAJh3xjT","content-type":"application/json","date":"Sat, 13 Dec 2025 22:35:01 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_******************_key","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-14 03:35:01","type":"StripeAuthenticationError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=qKpMDtKWd7GdxMxlqSzAhapXj2KYnZVKqbDQKq_SrNx8Yz6T_rFPqjmege46MRaDBWLkOTlKoAJh3xjT","content-type":"application/json","date":"Sat, 13 Dec 2025 22:35:01 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating checkout session: Invalid API Key provided: sk_test_******************_key","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=qKpMDtKWd7GdxMxlqSzAhapXj2KYnZVKqbDQKq_SrNx8Yz6T_rFPqjmege46MRaDBWLkOTlKoAJh3xjT","content-type":"application/json","date":"Sat, 13 Dec 2025 22:35:01 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_******************_key","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401,"timestamp":"2025-12-14 03:35:01","type":"StripeAuthenticationError"}
{"body":{"billingAddress":{"city":"karachi","country":"pakistan","state":"sindh","street":"rafaem society mailr halt karachi","zipCode":"84059"},"paymentMethod":"stripe","shippingAddress":{"city":"karachi","country":"pakistan","state":"sindh","street":"rafaem society mailr halt karachi","zipCode":"84059"}},"error":"Invalid API Key provided: sk_test_******************_key","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"01f9c0da-e01f-4f2a-b629-d35b45f9062d","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/arshah/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-14 03:35:01"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","statusCode":401,"timestamp":"2025-12-15 19:18:37"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah1234**"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"c8168a1c-bf98-40b8-9ebe-8459b433ac0c","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:94:23)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:41:22)","timestamp":"2025-12-15 19:18:37"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:38"}
{"body":{"productId":"69402d997163103a05396caf"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"17ff1915-8b71-4777-992c-17b15cc9de47","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:88:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:134:7)","statusCode":409,"timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:80:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:141:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:148:24)","timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:163:24)","timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:175:7)","timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:150:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 20:47:38"}
{"body":{"productId":"69402d9a7163103a05396cff","wishlistId":"69402d9a7163103a05396d07"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6b209804-f8c2-4401-a2df-f1d147ab019f","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:150:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:38"}
{"body":{"productId":"69402d9a7163103a05396d16"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"092dbc2b-f492-4fd9-8d43-0ff748c2b123","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:38"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:39"}
{"body":{"productId":"69402d9a7163103a05396d2b"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"56795c05-32cb-400b-8248-732f8fea4557","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:39"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:39"}
{"body":{"productId":"69402d9b7163103a05396d58"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d08702cb-112a-4d6a-8d5e-942276d8b9c8","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:39"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:39"}
{"body":{"productId":"69402d9b7163103a05396d6d"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d23644e1-f08a-4cd3-aa30-77953b8286bd","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:39"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:386:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:312:7)","statusCode":403,"timestamp":"2025-12-15 20:47:39"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:454:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:336:7)","statusCode":404,"timestamp":"2025-12-15 20:47:39"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:40"}
{"body":{"productId":"69402d9b1adbb4f1b4eb372e"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"44962a1f-2adf-4b0b-8d6a-d133310a912e","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:40"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:40"}
{"body":{"productId":"69402d9c1adbb4f1b4eb375d"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"dd884122-f6fc-444f-9d79-f181f295b838","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:40"}
{"level":"error","message":"Error adding product to wishlist: Class constructor ObjectId cannot be invoked without 'new'","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:40"}
{"body":{"productId":"69402d9c1adbb4f1b4eb3773"},"error":"Class constructor ObjectId cannot be invoked without 'new'","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"932364c6-b562-4fe0-a5b9-4ea835321c46","service":"ecommerce-api","stack":"TypeError: Class constructor ObjectId cannot be invoked without 'new'\n    at ObjectId (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:58)\n    at Array.map (<anonymous>)\n    at model.map (/Users/arshah/s-prod-ecom/backend/src/models/Wishlist.js:72:33)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2959:28)\n    at model.validate (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:16)\n    at model.validateBeforeSave (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:18)\n    at Kareem.execPre (/Users/arshah/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at model._execDocumentPreHooks (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2942:29)\n    at model.$__save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:16)\n    at model.save (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:16)\n    at WishlistService.save [as addProduct] (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:201:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:47:40"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:80:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 20:47:40"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"20f6ba64-cb05-4a53-80e1-49d0bb7bfe5e","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:80:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 20:47:40"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:88:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 20:47:40"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f64a7332-16cb-4ba3-92f0-7fe2d4bfe1f9","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:88:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 20:47:40"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:239:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 20:58:01"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403009737c723bcb33d01e/products/69403008737c723bcb33d009","query":{},"requestId":"20eb1989-b183-4f78-bd0b-4524dbedc6fc","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:239:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 20:58:01"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 20:58:01"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403009077bd5d108a35708/add-to-cart","query":{},"requestId":"1600bc5e-4985-49fe-9be1-ffb2cdab3349","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 20:58:01"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 20:58:01"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"body":{"productIds":["69403009077bd5d108a35723"]},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940300a077bd5d108a3572d/add-to-cart","query":{},"requestId":"f1a466b4-5b13-4b37-b02b-e8c0cf0e04a7","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:88:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:134:7)","statusCode":409,"timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:150:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"body":{"productId":"6940300a40a24fe392b907f6","wishlistId":"6940300a40a24fe392b907ff"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"1be6edfe-296c-4c98-b80b-7a535ee1ec0a","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:150:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:80:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:141:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:239:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940300a40a24fe392b90817/products/6940300a40a24fe392b9080e","query":{},"requestId":"4d78e5cf-2417-454f-9a22-de3373e64ebb","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:239:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:233:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940300a737c723bcb33d082/products/6940300a737c723bcb33d078","query":{},"requestId":"97552e97-a390-4898-ab06-204668525234","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:233:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 20:58:02"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940300a40a24fe392b90833/add-to-cart","query":{},"requestId":"1d619df2-fd3c-4da8-8dc2-3a3f309cfc8f","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 20:58:02"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:224:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 20:58:02","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/6940300a737c723bcb33d08f","query":{},"requestId":"970ba61d-93c6-498a-ab06-b76b016b116d","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:224:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:194:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 20:58:02"}
{"body":{"productId":"6940300adb19805f0b1838c7"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"5f433a7f-32c5-49c4-b774-1f90978518b9","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:194:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:482:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940300a077bd5d108a35784/add-to-cart","query":{},"requestId":"1907a630-94a6-463f-8e5a-e80af525d00e","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:482:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:239:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940300a737c723bcb33d0a7/products/invalid-id","query":{},"requestId":"2107608e-2021-4afc-b75f-90edc6955cbf","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:239:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:194:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:219:7)","statusCode":400,"timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:150:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"body":{"productId":"6940300a40a24fe392b90901","wishlistId":"6940300a40a24fe392b908ff"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"fcfa9c2f-21c4-4635-9a4a-a1fbe0192c1f","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:150:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 20:58:02"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940300a077bd5d108a357d9/add-to-cart","query":{},"requestId":"42a66beb-06e9-4ce6-9390-615337ee9f89","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:488:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 20:58:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:233:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:269:7)","statusCode":403,"timestamp":"2025-12-15 20:58:03"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:386:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:312:7)","statusCode":403,"timestamp":"2025-12-15 20:58:03"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:454:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:336:7)","statusCode":404,"timestamp":"2025-12-15 20:58:03"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:80:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 20:58:04"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"cdaf8474-0fcb-4ff4-9aa6-b06dae487f07","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:80:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 20:58:04"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:34:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 20:58:04"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940300c5af81ad04ee7ab91","query":{},"requestId":"fb14fb1b-91fd-413e-9550-d27e19d58093","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:34:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 20:58:04"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:88:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 20:58:04"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ad8f0568-c487-4ff8-a0e6-8c0deb42f6a6","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:88:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 20:58:04"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:28:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 20:58:04"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940300c5af81ad04ee7abb7","query":{},"requestId":"1ffdf772-8370-410c-bcca-c06399a8bd9f","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:28:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 20:58:04"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:01"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403081de84fcc72361a2cc/add-to-cart","query":{},"requestId":"56a57f9f-71fc-449a-8d93-42de175c3318","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:01"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:01"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403081cff090bd2b566ddd/products/69403080cff090bd2b566dc4","query":{},"requestId":"6c1c7785-cf61-4a92-b9b2-1c09b0df5e21","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:01"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:00:01"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:01"}
{"body":{"productIds":["69403081de84fcc72361a2e1"]},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403081de84fcc72361a2ea/add-to-cart","query":{},"requestId":"9f6cdccc-908e-4314-9416-b4cdd394d16e","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:01"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:00:01"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:00:01"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:00:02"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403082de84fcc72361a32f/add-to-cart","query":{},"requestId":"dfb210b8-80a2-4987-ace1-de4f33fbc41c","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"body":{"productId":"69403081e9f1a93689720cf1","wishlistId":"69403082e9f1a93689720cfb"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"86b20e67-ee1b-4de5-b88a-f56c5268df61","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:00:02"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403082cff090bd2b566e17/products/69403081cff090bd2b566e0d","query":{},"requestId":"684da212-1884-4cae-9bd4-7af61eb92327","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403082e9f1a93689720d12/products/69403082e9f1a93689720d0a","query":{},"requestId":"49a112df-9cb5-4e5a-a615-483acb8030fd","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403082cff090bd2b566e29/products/69403082cff090bd2b566e2b","query":{},"requestId":"ef8fbc11-64f9-43f9-84bf-eec587e43321","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403082de84fcc72361a348/add-to-cart","query":{},"requestId":"eeab23b7-c683-4302-bfa0-5faed51babf9","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:00:02"}
{"body":{"productId":"6940308225f742a38a39e571"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6d520b8d-9395-4a35-aa41-33aa54ae0478","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403082e9f1a93689720d2e/add-to-cart","query":{},"requestId":"b9920964-d88d-49fb-aeda-7ff7e247468c","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403082cff090bd2b566e41/products/69403082cff090bd2b566e37","query":{},"requestId":"2ee75b18-74ec-4e4a-9ff5-8926741f64c9","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:00:02"}
{"body":{"productId":"6940308225f742a38a39e5e7"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"026a39d8-76c2-408d-98fc-cd1d920fbc51","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:00:02"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:00:02","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/69403082cff090bd2b566e4e","query":{},"requestId":"0f447a89-a397-4ba6-87df-2f1635560b8b","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403082cff090bd2b566e66/products/invalid-id","query":{},"requestId":"e26c6f73-8163-4563-bbfa-15db10750765","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:02"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403082de84fcc72361a39d/add-to-cart","query":{},"requestId":"9a87775c-21b2-4754-961d-df28026171c9","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"body":{"productId":"69403082e9f1a93689720dfc","wishlistId":"69403082e9f1a93689720dfa"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"4d204d13-7007-4a5d-9908-9ade70c1b185","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:404:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:00:02"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:472:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:00:03"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:00:03"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"effa26f4-4409-4fef-a402-e7e9a3c93c18","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:00:03"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:00:04"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"82fe8249-4005-4f7b-b29e-75fb8472b15b","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:00:04"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:00:04"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694030846f7c4b72b1e94dfe","query":{},"requestId":"dc423fe3-8a61-4fab-a073-0ddc4ab8eda2","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:00:04"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:00:04"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694030846f7c4b72b1e94e12","query":{},"requestId":"82c24faf-bf78-4f5e-8b22-7afaeb7daf34","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:00:04"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:00:14"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:00:14"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:14"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940308e3b809ac4705e6602/add-to-cart","query":{},"requestId":"10a8c95b-3832-41be-a4e6-6b6b93959214","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:14"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:00:14"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:14"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940308e35c40a56bc457f83/products/6940308e35c40a56bc457f6d","query":{},"requestId":"4c7ad8c6-6a45-4f88-9de6-561477bdec3c","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:14"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"body":{"productIds":["6940308e3b809ac4705e661c"]},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940308f3b809ac4705e6626/add-to-cart","query":{},"requestId":"d4e26775-032e-47bb-8e9f-46b044b92a75","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"body":{"productId":"6940308fb528bb5f60b6533e","wishlistId":"6940308fb528bb5f60b65347"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"4797621d-2399-4d16-b646-109c0030f528","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940308fb528bb5f60b6535e/products/6940308fb528bb5f60b65356","query":{},"requestId":"49b77019-d698-4d34-b006-824cceb9efbf","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:00:15"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940308f35c40a56bc457fc0/products/6940308f35c40a56bc457fb6","query":{},"requestId":"f524f55f-fbc7-4ab7-b191-6739e2400e3c","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940308fb528bb5f60b6537a/add-to-cart","query":{},"requestId":"127e0b7a-7fe6-4ef1-9d17-605c05923bb0","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940308f35c40a56bc457fd2/products/6940308f35c40a56bc457fd4","query":{},"requestId":"76f82112-c254-40b6-b1d6-bac5b56586a7","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:15"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940308f3b809ac4705e6669/add-to-cart","query":{},"requestId":"78fafa48-05db-4b5e-a43b-832889ef9aa8","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:00:15"}
{"body":{"productId":"6940308fc241580382502d19"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f9d192ed-ad1d-4b84-a0a6-1c5450958446","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940308f35c40a56bc457fea/products/6940308f35c40a56bc457fe0","query":{},"requestId":"4dd43f74-5afa-4e33-a142-3e773375c632","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error converting guest wishlist: require is not a constructor","service":"ecommerce-api","stack":"TypeError: require is not a constructor\n    at /Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:70\n    at Array.map (<anonymous>)\n    at GuestConversionService.map [as convertGuestWishlist] (/Users/arshah/s-prod-ecom/backend/src/services/GuestConversionService.js:185:60)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:140:34)\n    at AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940308f3b809ac4705e6682/add-to-cart","query":{},"requestId":"46abef46-e8b0-44c0-9cce-2ede2793a93f","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:404:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:00:15","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/6940308f35c40a56bc457ff7","query":{},"requestId":"7b1c3e61-aee5-4262-9a53-29d469032bf1","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:00:15"}
{"body":{"productId":"6940308fc241580382502d8f"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"16525474-fdb4-425c-b1ae-02574ea80cd3","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:472:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940308f35c40a56bc45800f/products/invalid-id","query":{},"requestId":"c243df18-98d0-4af4-bf5b-8d5bbb7d0a4d","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:00:15"}
{"body":{"productId":"6940308fb528bb5f60b65448","wishlistId":"6940308fb528bb5f60b65446"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"fc2ee4c1-ae52-411e-b2c9-60641a98c3c4","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:00:15"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:00:16"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030903b809ac4705e66d7/add-to-cart","query":{},"requestId":"a4bfe76e-8d04-4f15-8151-130f7fcfa3b9","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:00:16"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:00:17"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"da5d3375-ff86-405f-9e3e-cbdef1c7c6eb","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:00:17"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:00:17"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"8f2fb0da-4f54-4563-8a39-d7c6d6c0ded3","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:00:17"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:00:17"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403091b4494b619f7b1b77","query":{},"requestId":"a2b0bc9b-1413-419e-9a34-a1fdc5c590e8","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:00:17"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:00:18"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403092b4494b619f7b1b8b","query":{},"requestId":"08ed33ec-b158-4c9f-9e96-8e9df01bef19","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:00:18"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:18"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030ce3586bc4b14ec47fd/products/694030cd3586bc4b14ec47e4","query":{},"requestId":"86912e07-d519-490c-ae73-11d659825e1a","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:18"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030ceac3ea360f04fa5a4/add-to-cart","query":{},"requestId":"26852e4e-a781-421d-accf-bfda44d2af3b","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:01:18"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"2981cea2-56da-4a02-8fcb-5a3152a72c91","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:01:18"}
{"body":{"productId":"694030ce597c9946cbcc3286","wishlistId":"694030ce597c9946cbcc3290"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"9eef4672-bc37-4292-958d-90aae482d7cd","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:01:18"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ab3217ea-1fde-4f05-9643-cac4ee559d38","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:18"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030ce597c9946cbcc32a8/products/694030ce597c9946cbcc329f","query":{},"requestId":"b33290e8-ffa4-4a62-917e-0add3df68b63","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:01:18"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030ce3586bc4b14ec4837/products/694030ce3586bc4b14ec482f","query":{},"requestId":"2313ad6d-9508-4d51-8aeb-317901a1ccc4","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:18"}
{"body":{"productIds":["694030ceac3ea360f04fa5bf"]},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030ceac3ea360f04fa5c9/add-to-cart","query":{},"requestId":"b59a4a1d-3af5-43fa-887b-4eb2fc043e94","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:18"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030cf3586bc4b14ec4849/products/694030cf3586bc4b14ec484b","query":{},"requestId":"b88db591-c337-40f0-92e9-f2845c026fb2","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030cf597c9946cbcc32c4/add-to-cart","query":{},"requestId":"22a66627-827c-46b4-a21f-f8980acef7b1","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:01:19"}
{"body":{"productId":"694030cfb7ce8bcf56b9efdc"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"11873911-7b5a-47fe-b3ce-8a5194aecc05","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:01:19"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030cfac3ea360f04fa608/add-to-cart","query":{},"requestId":"a4dedee4-e4c4-4a7e-9201-839e28bc3728","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030cf3586bc4b14ec4861/products/694030cf3586bc4b14ec4857","query":{},"requestId":"cd06dd5f-588c-4e04-baa2-f3740877f966","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:01:19","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/694030cf3586bc4b14ec486e","query":{},"requestId":"167f6815-3e4d-47d1-8a24-beb2570b6b18","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:01:19"}
{"body":{"productId":"694030cfb7ce8bcf56b9f052"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"cb6c4ae2-8d61-4324-9b3e-a29c5cd3195d","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030cfac3ea360f04fa621/add-to-cart","query":{},"requestId":"7095f0cb-1a64-4f4c-827d-9ccbb02a7ab9","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030cf3586bc4b14ec4886/products/invalid-id","query":{},"requestId":"c184c457-1b20-4437-8958-7e40bd9e37e8","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"body":{"productId":"694030cf597c9946cbcc3392","wishlistId":"694030cf597c9946cbcc3390"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ed25fb78-467c-4bbe-960a-b71c4ebadb4c","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:404:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:472:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:19"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030cfac3ea360f04fa676/add-to-cart","query":{},"requestId":"2de4b07f-33fa-49e9-bb06-3002216fe15c","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:19"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:01:21"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694030d19115443d90da23d6","query":{},"requestId":"12ddd8bc-bf1c-4c76-bce8-98b8eac3cfe8","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:01:21"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:01:21"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694030d19115443d90da23ea","query":{},"requestId":"2affed22-2f7f-476f-9138-0dd50acd3b0f","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:01:21"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:30"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030daeb8aa52ff2e03945/products/694030d9eb8aa52ff2e0392f","query":{},"requestId":"8d60ba3a-424d-429a-8a23-02aa1727e926","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:30"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030daf6bc7e9a515ad5ca/add-to-cart","query":{},"requestId":"397a6a81-2e90-4c2d-a19a-d3be867407eb","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:01:30"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d0ae849b-6558-4238-a5cc-f35884b476c5","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:30"}
{"body":{"productIds":["694030daf6bc7e9a515ad5e3"]},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030daf6bc7e9a515ad5ee/add-to-cart","query":{},"requestId":"aaff592b-6952-4a88-9a47-f5417dfef9cf","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:01:30"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:01:31"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"614fc1bd-8835-4fcd-98ec-a74f1a2ec25f","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:01:31"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030dbeb8aa52ff2e03980/products/694030dbeb8aa52ff2e03974","query":{},"requestId":"d5ebbbf9-ed65-446e-b0b9-ac05be92d823","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"body":{"productId":"694030dbfed377a653033527","wishlistId":"694030dbfed377a65303352f"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"e249093a-a7f3-4fee-a222-cc7cb7c470a9","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030dbeb8aa52ff2e03994/products/694030dbeb8aa52ff2e03996","query":{},"requestId":"6f4fb010-a558-448c-bc3d-2113b3d9987a","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030dbfed377a653033546/products/694030dbfed377a65303353e","query":{},"requestId":"a3c62bdc-91d9-4895-8f5c-c037ceed83c2","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:01:31"}
{"body":{"productId":"694030db94edbc3aa30a8d22"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d04b5382-ee93-4015-8b66-2b764872c1d3","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:01:31"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030dbf6bc7e9a515ad62f/add-to-cart","query":{},"requestId":"20906039-9e50-4636-ab2c-c2106d3cd573","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:493:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030dbfed377a653033562/add-to-cart","query":{},"requestId":"f701f234-94eb-4c51-98c4-7645440d8456","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030dbeb8aa52ff2e039ac/products/694030dbeb8aa52ff2e039a2","query":{},"requestId":"024800f4-1e12-43b6-b45b-55517ed52c92","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:01:31"}
{"body":{"productId":"694030db94edbc3aa30a8d98"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ab5dc7d7-8ec4-4402-a1b9-549bb64e5e34","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030dbf6bc7e9a515ad648/add-to-cart","query":{},"requestId":"364d08b8-9b8a-4450-a849-8af81c3b5baa","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:31"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:01:31","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/694030dbeb8aa52ff2e039b9","query":{},"requestId":"9401daa8-8dce-4169-8cc5-db2622ef3e97","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:404:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694030dbeb8aa52ff2e039d1/products/invalid-id","query":{},"requestId":"85e60bc4-2359-4111-af0e-7a55d48aef7f","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:472:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"body":{"productId":"694030dbfed377a653033630","wishlistId":"694030dbfed377a65303362e"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"551c4dfa-c681-4d13-b240-b533807bc02c","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:01:31"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694030dbf6bc7e9a515ad69d/add-to-cart","query":{},"requestId":"52f6d0f0-b86d-42ae-8c27-35d142f0a73b","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:506:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:01:31"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:01:33"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694030dd4de98c678de363fd","query":{},"requestId":"83407050-62bf-4bf2-8050-41d8a2258586","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:01:33"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:01:33"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694030dd4de98c678de36411","query":{},"requestId":"8cbfb261-4be1-4c4b-af85-28a497e936b9","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:01:33"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:02:10"}
{"body":{"productId":"69403101ac75ca5282a78963","wishlistId":"69403102ac75ca5282a78980"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"2f517beb-131f-481b-ae18-f9721c04f6b5","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:10"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:02:28"}
{"body":{"productId":"6940311405a7cce2d54bf6e8","wishlistId":"6940311405a7cce2d54bf705"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"1b4b04a4-728d-4c31-a789-8a523e02d0e6","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:28"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:02:37"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:02:37"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:02:38"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"eea10bf9-4158-4627-ac98-c775fe283b98","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:02:38"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"04e64eca-c0ec-4025-8f75-def2927cf15e","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:02:38"}
{"body":{"productId":"6940311efc9dc20071411962","wishlistId":"6940311efc9dc2007141196b"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"cb6d5f2e-068d-459c-979f-1ba9a8b1625a","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:02:38"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940311e00d64bb62debe44f/products/6940311e00d64bb62debe446","query":{},"requestId":"f85d75a0-58c7-4474-aae7-552772531ee2","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:02:38"}
{"body":{"productId":"6940311eb260d617f45d862a"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"53163fb6-12f1-4a75-87f6-688a41bcf59b","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:02:38"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940311ede50cb435b5de013/add-to-cart","query":{},"requestId":"c5a4a5aa-c6a8-4655-a445-c1c8e63f0e7c","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:02:38"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940311e00d64bb62debe47c/products/6940311e00d64bb62debe472","query":{},"requestId":"100fd92d-c329-4a45-8363-74b91d684eb2","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:02:38"}
{"body":{"productId":"6940311eb260d617f45d86a0"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"39a1ac34-402a-415b-acf0-1cd55c654fbc","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:38"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:02:38","value":"invalid-id","valueType":"string"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:02:38"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/6940311e00d64bb62debe489","query":{},"requestId":"099f03bb-c774-4801-8929-8259967e2d94","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:02:38"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940311ede50cb435b5de02c/add-to-cart","query":{},"requestId":"603adc29-30d7-4887-b1df-1913840d0f00","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:02:38"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:02:39"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:02:39"}
{"body":{"productId":"6940311ffc9dc20071411a7f","wishlistId":"6940311ffc9dc20071411a7d"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f9c22a94-216c-429a-b5a6-01ba9e50a37e","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:39"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:539:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:02:39"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940311fde50cb435b5de081/add-to-cart","query":{},"requestId":"6aa26036-7157-4c68-b48f-35f1d600420b","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:539:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:02:39"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:411:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:02:39"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:479:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:02:39"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:02:40"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940312063be7bdcc0fef489","query":{},"requestId":"838485ca-f3d6-4c5c-bdfa-07aea0fbd496","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:02:40"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:02:40"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940312063be7bdcc0fef49d","query":{},"requestId":"e9354599-cf42-45cf-b44c-e856bcade391","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:02:40"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:02:51"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:02:51"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:02:51"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:02:52"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6f8c557d-6838-4976-bfd2-002702ded7ce","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:02:52"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"65992509-0862-4c1d-9e7e-d6c17fb841f5","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:02:52"}
{"body":{"productId":"6940312c2fac387831e98343","wishlistId":"6940312c2fac387831e9834c"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"07fc1314-8acd-4ffd-a3b0-fe2f37f31629","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:02:52"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940312c6bb42c5c87730924/products/6940312c6bb42c5c8773091a","query":{},"requestId":"a20ea7e8-4669-4d23-81a7-1d6e9b04aa3d","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:244:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:02:52"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940312c02b1e3ac68fabcf3/add-to-cart","query":{},"requestId":"0ac4c9f9-7acd-42b3-b87b-aad11d087308","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:500:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:02:52"}
{"body":{"productId":"6940312cd5baeb6bc7c6a67a"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6c20a485-e138-4e2f-a047-5c13732c9b19","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:02:52"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940312c02b1e3ac68fabd0c/add-to-cart","query":{},"requestId":"26b36b6c-46b5-48e8-ae57-96c6e3c26faf","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:520:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:02:52"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940312c6bb42c5c87730950/products/6940312c6bb42c5c87730946","query":{},"requestId":"d19efc13-8fa1-4499-81a5-7d809276515d","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:257:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:02:52"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:02:53"}
{"body":{"productId":"6940312dd5baeb6bc7c6a6f0"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"3811196d-41f2-4960-a85a-991499b33e4d","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:212:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:53"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:02:53","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/6940312c6bb42c5c8773095d","query":{},"requestId":"7bc5644b-5a8c-4a3c-9940-bcadbf1cddda","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:242:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:02:53"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:411:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:02:53"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:539:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:02:53"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940312d02b1e3ac68fabd61/add-to-cart","query":{},"requestId":"3d4c5d68-18c5-48ec-a736-20a6d619db7e","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:539:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:02:53"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:479:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:02:53"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-15 21:02:53"}
{"body":{"productId":"6940312d2fac387831e9845f","wishlistId":"6940312d2fac387831e9845d"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"e9018b53-df50-4dc4-8385-f2fd3e5530bc","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:168:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:02:53"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:02:54"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940312e68d028f2bb5d2abe","query":{},"requestId":"31805c81-4189-406d-b77c-b75a010c9e76","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:02:54"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:02:54"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940312e68d028f2bb5d2ad2","query":{},"requestId":"44024e1f-c0e3-42ab-97ed-cbbddf03e7a3","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:02:54"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:03:27"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"dfbdb156-676d-43e8-a319-46d6ab96e5e7","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:03:27"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:03:27"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:03:27"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"1fb82cb4-9a46-4745-8171-825119c534ad","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:03:27"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:03:27"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:03:27"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940314f1c80c65541459b63/products/6940314f1c80c65541459b56","query":{},"requestId":"4a274deb-e9ad-41e5-a516-aadf90196819","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:03:27"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:03:27"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:507:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:03:28"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403150c34fd81177898827/add-to-cart","query":{},"requestId":"27d39c57-440d-4e37-a6da-17c2e7afce18","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:507:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:527:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:03:28"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403150c34fd81177898840/add-to-cart","query":{},"requestId":"b17d0f94-fe5f-4ecc-9193-1dcc2a4178aa","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:527:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:03:28"}
{"body":{"productId":"694031503373e37abccabbc3"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d0936464-35a6-48e7-acf3-80ccf3814131","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:03:28"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694031501c80c65541459b8f/products/694031501c80c65541459b85","query":{},"requestId":"d6872758-7c4e-4759-90d2-8267f358ca2b","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:03:28"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:03:28","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/694031501c80c65541459b9c","query":{},"requestId":"449e11bc-d523-4e80-91dc-380da4e6dfa3","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:03:28"}
{"body":{"productId":"694031503373e37abccabc39"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"a65a1235-c58a-43e2-95a5-eff76faa1d85","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:546:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:03:28"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403150c34fd81177898895/add-to-cart","query":{},"requestId":"78cf6a3d-d084-46a3-93e1-b4a48cb62ea7","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:546:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:03:28"}
{"body":{"productId":"69403150958970d3ae50df1a","wishlistId":"69403150958970d3ae50df18"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"c4d3e17c-e888-4756-9f98-31fe412d3488","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:03:28"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:418:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:03:29"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:486:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:03:29"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:03:30"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403152fd93fed9d30dd6c1","query":{},"requestId":"ee7769ac-4188-4609-bd38-0019234a28ce","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:03:30"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:03:30"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403152fd93fed9d30dd6d5","query":{},"requestId":"49756e72-f596-406c-aeff-83a57a885a5e","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:03:30"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:03:38"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:03:39"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f0ccae73-b158-4521-b57e-ce9e662383e8","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:03:39"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f095ebb8-d9d2-4e73-955e-f66693c30644","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:03:39"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940315b1ebe69803cca0cde/products/6940315b1ebe69803cca0cd4","query":{},"requestId":"42fa2bac-587c-49fe-8537-7a2c1fcc8224","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:507:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:03:39"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940315b0a8329f4d102d1cc/add-to-cart","query":{},"requestId":"92fdde53-125b-4344-920b-0fcb93110f18","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:507:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:03:39"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:03:40"}
{"body":{"productId":"6940315c8489a22f51080f35"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f75cab57-c099-4312-9d44-8d57985ab53b","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:527:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:03:40"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940315c0a8329f4d102d1e5/add-to-cart","query":{},"requestId":"87f30c12-baf9-46d9-900c-03e79fda00ad","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:527:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:03:40"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940315c1ebe69803cca0d0b/products/6940315c1ebe69803cca0d01","query":{},"requestId":"d6d39297-2b1a-4769-81db-eaa9db3f93ed","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:418:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:03:40"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:03:40","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/6940315c1ebe69803cca0d18","query":{},"requestId":"afa85543-3cdf-4ee4-a15e-793141e36df0","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:03:40"}
{"body":{"productId":"6940315c8489a22f51080fab"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"9c517152-30da-4aca-b248-b6c3d142121e","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:486:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:546:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:03:40"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940315c0a8329f4d102d23a/add-to-cart","query":{},"requestId":"3e1d038a-aa2e-4599-9a56-dca78b9f83b0","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:546:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:03:40"}
{"body":{"productId":"6940315c452386965de7b6e6","wishlistId":"6940315c452386965de7b6e4"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"888a33ee-677d-426e-9acd-36ab6a345a05","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:03:40"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:03:42"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940315e7392283cf982f867","query":{},"requestId":"765902b4-c92c-4220-81af-1d18931bcf0d","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:03:42"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:03:42"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940315e7392283cf982f87b","query":{},"requestId":"fb0c2477-1f0c-40ef-b495-72546ec637ee","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:03:42"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:04:01"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"012f13c4-e8d6-414a-8d77-060028e3f559","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:04:01"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"9214123c-c305-4140-9892-13e2cf378836","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:04:01"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694031713e36834aa8353117/products/694031713e36834aa835310e","query":{},"requestId":"415e4404-1d72-4180-86f6-f8501efeaca1","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:04:01"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031719877b2830f84a13a/add-to-cart","query":{},"requestId":"dc45c6a1-2a79-479d-885b-bb6b7b3e01e1","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:04:01"}
{"body":{"productId":"6940317114f5e0eae01b9a3a"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"acd5edde-f9d2-403b-9f04-36738a092ae9","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:04:01"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694031713e36834aa8353145/products/694031713e36834aa835313b","query":{},"requestId":"56766a9a-4fbb-43de-b316-d13b171a2cab","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:04:01"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031719877b2830f84a153/add-to-cart","query":{},"requestId":"9b00b6f2-11df-4d65-975c-d219a46c5f42","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:04:01"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:04:01","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/694031713e36834aa8353152","query":{},"requestId":"5ecbbbbf-388c-4129-892a-7f2c4853a04c","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:04:01"}
{"body":{"productId":"6940317114f5e0eae01b9ab0"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d5bbcac1-c3bd-4074-b770-2503f6d44046","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:04:01"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:04:02"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:04:02"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:04:02"}
{"body":{"productId":"694031720a3e589245a66749","wishlistId":"694031720a3e589245a66747"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"894b5842-fc20-490c-8a57-25edba5acfe3","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:04:02"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:04:02"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031729877b2830f84a1a8/add-to-cart","query":{},"requestId":"d95fb888-2517-430a-bf92-8a4c7a8a13c9","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:04:02"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:04:02"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:04:02"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:04:03"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403173b6cec6f3309ef478","query":{},"requestId":"3c66fde9-5d51-4b85-bbda-cdd5eb884d43","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:04:03"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:04:03"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403173b6cec6f3309ef48c","query":{},"requestId":"f149359f-78d8-4d92-8ba4-2185dd8926a5","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:04:03"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:05:49"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:05:49"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:05:49"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:05:50"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"13fd55ec-003a-4fd1-976a-87989f6a1d43","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:05:50"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d39a81b8-5559-42e8-ba60-62620f02f84c","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:05:50"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694031dea62ca49ff6b1cc83/products/694031dea62ca49ff6b1cc7a","query":{},"requestId":"0d126ccf-2f69-4312-855c-7c6b4d57ade9","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:05:50"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031de0d93938a6a663c1a/add-to-cart","query":{},"requestId":"2621b831-1dce-45c2-8957-bd6d4827019b","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:05:50"}
{"body":{"productId":"694031de724d30a13a365fcf"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"3c8afa24-5dc3-4385-b4de-ce6d4ad45fd4","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:05:50"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694031dea62ca49ff6b1ccae/products/694031dea62ca49ff6b1cca4","query":{},"requestId":"70f5cb80-5440-4700-ab81-e8ce734ae77f","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:05:50"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031de0d93938a6a663c33/add-to-cart","query":{},"requestId":"0e925337-47e1-4e73-afc7-91087af27a47","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:05:50"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:05:51"}
{"body":{"productId":"694031df724d30a13a366045"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ae124283-fe17-41d2-bbbc-1fd0f0af1327","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:05:51"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:05:51","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/694031dea62ca49ff6b1ccbb","query":{},"requestId":"5eddf57d-c643-417c-b98c-98ad1906c773","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:05:51"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:05:51"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:05:51"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:05:51"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031df0d93938a6a663c88/add-to-cart","query":{},"requestId":"01e40507-c128-4fd9-b5e1-a8b0cc362c73","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:05:51"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:05:51"}
{"body":{"productId":"694031dff67ee496c5903479","wishlistId":"694031dff67ee496c5903477"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ac7d9f8d-c0cc-4d2d-a6ae-1d0eafcf38cf","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:05:51"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:05:52"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694031e06301e45b51dccaa3","query":{},"requestId":"cd012af5-9014-4da6-b97e-f2b8884db0f7","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:05:52"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:05:52"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694031e06301e45b51dccab7","query":{},"requestId":"b225b3ea-45c8-4fac-b079-35ddba3ff7b2","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:05:52"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:06:22"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:06:22"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:06:22"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:06:23"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"10169916-5d8d-4c04-8076-d6fd62c61f07","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:06:23"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6f3f8c97-3cb1-4319-805c-b97d1f86de3c","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:06:23"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694031ff040872b7d856989e/products/694031ff040872b7d8569894","query":{},"requestId":"19933f0a-cc18-40f9-8f70-c26d4bec93c2","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:06:23"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031ffa9051e8c57657d4b/add-to-cart","query":{},"requestId":"bafdad5a-2b19-42b3-9e20-d8762c56c761","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:06:23"}
{"body":{"productId":"694031ff88846d3b891328ba"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ac66db42-fe59-47d8-ac52-eedff46452c3","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:06:23"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:06:24"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694031ffa9051e8c57657d64/add-to-cart","query":{},"requestId":"7df79da1-1a3d-4653-8c24-abce2bf80e0f","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:06:24"}
{"body":{"productId":"6940320088846d3b89132930"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f1172543-c139-4698-a664-482162659947","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:06:24"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/69403200040872b7d85698c9/products/694031ff040872b7d85698bf","query":{},"requestId":"106ac7ea-4b44-4f15-8d95-2fde090abeaa","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:06:24"}
{"kind":"ObjectId","level":"error","message":"Error removing product from wishlist: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","stringValue":"\"invalid-id\"","timestamp":"2025-12-15 21:06:24","value":"invalid-id","valueType":"string"}
{"error":"Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/invalid-id/products/69403200040872b7d85698d6","query":{},"requestId":"0446a121-1f0b-4d45-aa5f-9d08f7498630","service":"ecommerce-api","stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Wishlist\"\n    at SchemaObjectId.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:249:24)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:06:24"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403200a9051e8c57657db9/add-to-cart","query":{},"requestId":"17cbce92-9aaa-4381-bbdf-b2c3e4d01207","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:06:24"}
{"body":{"productId":"6940320077bbf93d5f78da23","wishlistId":"6940320077bbf93d5f78da21"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6efa2076-8794-4748-b127-9c284af23d91","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:06:24"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:06:25"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694032010f6c881e32e4820a","query":{},"requestId":"e0cd6cea-4a4a-4b72-b62c-259b1083a934","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:06:25"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:06:25"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694032010f6c881e32e4821e","query":{},"requestId":"d673447e-1e04-4665-a18f-985913fd1353","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:06:25"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:06:39"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:06:40"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:06:40"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:06:40"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"3f70d92a-ccd5-4551-947b-8a1d60355494","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:06:40"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:06:40"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:06:40"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:06:40"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"70779e1a-391e-4c2c-8a4c-f59dab3d5819","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:06:40"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:06:41"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940321165bb994a7d9971fb/products/6940321165bb994a7d9971f3","query":{},"requestId":"a120b2af-ad9b-4ff6-b1a2-b8b906e91595","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:06:41"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403211096ccaacb0823001/add-to-cart","query":{},"requestId":"cc4b3670-824e-4eb5-8cbe-ca6b3ce2ac56","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:06:41"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403211096ccaacb082301a/add-to-cart","query":{},"requestId":"53a4a6d4-4c9b-4296-8a21-63be0b6a5445","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:06:41"}
{"body":{"productId":"6940321125e4641c370e196e"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d02c601f-cc4e-4e04-98fa-58a6ba4f0d46","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:06:41"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940321165bb994a7d997226/products/6940321165bb994a7d99721c","query":{},"requestId":"87f52722-c754-4ab8-bbc0-32e787d7067c","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:06:41"}
{"body":{"productId":"6940321125e4641c370e19e4"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"850387fd-e53d-4185-aec6-74516a495dd6","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:06:41"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/69403211096ccaacb082306f/add-to-cart","query":{},"requestId":"eafa5911-c06f-480b-8da0-ca6fb131a4b2","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:06:41"}
{"body":{"productId":"694032117084f4ae02757733","wishlistId":"694032117084f4ae02757731"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"81d20692-472e-4d62-a313-7656f46a0b09","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:06:41"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:06:43"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403213d2a526cad620579a","query":{},"requestId":"3b307cc1-83cb-40d3-ac2f-ca7db0b6f9a9","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:06:43"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:06:43"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403213d2a526cad62057ae","query":{},"requestId":"bab6509e-5254-4328-bb1f-504243745e63","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:06:43"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:07:21"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:07:21"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"18fc70f8-7139-4e30-9268-b2fbbb2276a0","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:07:21"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:07:21"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:07:21"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:07:22"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"919aa9a8-b6b6-4b57-b0dd-ddb84a946120","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:07:22"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940323aae9662e447eef904/products/6940323aae9662e447eef8fa","query":{},"requestId":"a535ac89-32e9-4ec2-94fd-ffa392b89f0e","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:07:22"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940323a4b2fbb2684fe61d4/add-to-cart","query":{},"requestId":"10c52df2-b985-4639-843b-1f30f70d1ef4","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:07:22"}
{"body":{"productId":"6940323ab512849640b6cdde"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f216e3db-c507-456e-8d4e-8c55f53d85ef","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:07:22"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940323a4b2fbb2684fe61ed/add-to-cart","query":{},"requestId":"8fe9f276-78a1-4ddb-b307-5eced72e0133","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:07:22"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940323aae9662e447eef930/products/6940323aae9662e447eef926","query":{},"requestId":"3de4043c-b85c-4b02-ad8b-9777b4b03037","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:07:22"}
{"body":{"productId":"6940323ab512849640b6ce54"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"4cd8c9aa-0233-44c7-8fc9-f3ea323baa2f","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:07:22"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940323a4b2fbb2684fe6242/add-to-cart","query":{},"requestId":"75b1b81b-3f53-421f-aaf0-922fa376d4ca","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:07:22"}
{"body":{"productId":"6940323a516377699635e4d4","wishlistId":"6940323a516377699635e4d2"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"d20d18ce-5f04-495e-816f-64287b9d7819","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:07:22"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:07:23"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:07:23"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:07:24"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940323cb4acb17c095aecf2","query":{},"requestId":"195de5fe-ad6f-46fd-8609-23da46e6bdc8","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:07:24"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:07:24"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940323cb4acb17c095aed06","query":{},"requestId":"446d5ef8-d011-4a2c-9fa9-a336804ba059","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:07:24"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:07:45"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:07:45"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:07:45"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:07:45"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"4a141e38-fa1a-4b43-84c5-9f9b37fa342b","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:07:45"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:183:7)","statusCode":404,"timestamp":"2025-12-15 21:07:45"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:220:7)","statusCode":400,"timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:07:46"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694032529ce02c2b46bedcf0/products/694032529ce02c2b46bedce6","query":{},"requestId":"c1242a7a-0bf5-45a4-a2a4-e5483e954d33","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:07:46"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"880955ea-d03f-4f5f-bd4b-e388bb828f16","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:249:7)","statusCode":404,"timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:07:46"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032521b003fa402b30679/add-to-cart","query":{},"requestId":"ab8f34b8-c0c7-46c1-aae7-c70b4bfb92cd","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:270:7)","statusCode":403,"timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:07:46"}
{"body":{"productId":"694032529a1d3fbeba7dd3f4"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"cbff7cac-9f30-42c3-bc64-dccda440e173","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:07:46"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032521b003fa402b30692/add-to-cart","query":{},"requestId":"95956c4d-0457-4b4f-ba2a-546eff11a0c1","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:07:46"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694032529ce02c2b46bedd1c/products/694032529ce02c2b46bedd12","query":{},"requestId":"e295ee70-044e-4cb7-bfb5-0f7e717bc754","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:07:46"}
{"body":{"productId":"694032529a1d3fbeba7dd46a"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"ce057a0c-d998-4429-bb81-ff1a3f012b6e","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:313:7)","statusCode":403,"timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:337:7)","statusCode":404,"timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:07:46"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032521b003fa402b306e7/add-to-cart","query":{},"requestId":"aafb173a-744c-49b2-ae82-13ce7578a72f","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:07:46"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:07:47"}
{"body":{"productId":"69403253c9e6a5b8f714697d","wishlistId":"69403253c9e6a5b8f714697b"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"c5e86f47-4735-47e9-b91a-f1fa3556af0a","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:07:47"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:07:48"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403254489f830f7316dd6e","query":{},"requestId":"63275a77-7452-4589-a351-37361372df2b","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:07:48"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:07:48"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/69403254489f830f7316dd82","query":{},"requestId":"3f6b5fb2-ce8e-47d5-9012-8026480efe2b","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:07:48"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:08:35"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"0d868d47-b719-455d-9890-0b9b89388238","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:08:35"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:08:35"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940328357ceb5126ea8b180/products/6940328357ceb5126ea8b176","query":{},"requestId":"2a659779-3ab3-4584-8a02-080ed123ff16","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:08:35"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:08:35"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"5f83e3ad-c5b2-42b3-9f2c-a5ff2132a2d6","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:08:35"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:08:35"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:08:36"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032843da8c491c09eebd3/add-to-cart","query":{},"requestId":"de164bf6-5c67-48aa-a3c8-66b045c4ab96","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:08:36"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940328457ceb5126ea8b1ae/products/6940328457ceb5126ea8b1a4","query":{},"requestId":"742bdce1-5bb3-435f-9bb7-ae866afb341d","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:08:36"}
{"body":{"productId":"6940328419c65aac04f5f60d"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"16dc7a99-232f-41e0-95f6-c0b9c256dccf","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:08:36"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032843da8c491c09eebec/add-to-cart","query":{},"requestId":"bc335e11-d8c7-46b6-bee1-32527ab8a973","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:08:36"}
{"body":{"productId":"6940328419c65aac04f5f683"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"8584c865-7ece-4a6a-8294-2c2dc70405f7","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:187:7)","statusCode":404,"timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:08:36"}
{"body":{"productId":"69403284018f894490d4d91e","wishlistId":"69403284018f894490d4d91c"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"c775dd21-dd33-45e6-8b8f-33a9dd166f7a","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:08:36"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032843da8c491c09eec41/add-to-cart","query":{},"requestId":"9a13cad2-67aa-4350-821b-2dfdaddceee7","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:224:7)","statusCode":400,"timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:253:7)","statusCode":404,"timestamp":"2025-12-15 21:08:36"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:274:7)","statusCode":403,"timestamp":"2025-12-15 21:08:37"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:317:7)","statusCode":403,"timestamp":"2025-12-15 21:08:37"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:341:7)","statusCode":404,"timestamp":"2025-12-15 21:08:37"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:08:38"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940328650e54c43fc6b290c","query":{},"requestId":"167cf6fa-d394-4161-94d3-9f78ab70ee4f","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:08:38"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:08:38"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/6940328650e54c43fc6b2920","query":{},"requestId":"79b89e73-6d67-4ff2-8a7f-65bb9a2a58f8","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:08:38"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-12-15 21:09:03"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f3ab4c0a-ba42-42b9-84d9-4bb520240c1d","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/arshah/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/arshah/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/arshah/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-15 21:09:03"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"85fca95c-5e02-42a6-83f8-fc5ee11975a1","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-15 21:09:03"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940329fc8ebf7321dd55a07/products/6940329fc8ebf7321dd559fe","query":{},"requestId":"c6eb1e09-2222-43be-9c33-e535b77ab1bd","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/arshah/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/arshah/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-15 21:09:03"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940329f6e5b981643caeb3b/add-to-cart","query":{},"requestId":"676ee50c-1d1a-4beb-a66d-bcc7e80c6fdf","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-15 21:09:03"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/6940329f6e5b981643caeb54/add-to-cart","query":{},"requestId":"01476750-be94-4e15-a48b-9e5dbdce6bc6","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-15 21:09:03"}
{"body":{"productId":"6940329f7b64e21bc4a07c08"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"68e6723b-2c8d-4017-b256-bdee4127dc4c","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-15 21:09:03"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/6940329fc8ebf7321dd55a33/products/6940329fc8ebf7321dd55a29","query":{},"requestId":"2215fc03-87a3-49c2-813c-5fc68e50004e","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.removeFromWishlist (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:187:7)","statusCode":404,"timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:09:03"}
{"body":{"productId":"6940329f7b64e21bc4a07c7e"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"66642ff0-961a-4450-9bf6-7c845c6d0ea7","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:09:03"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:224:7)","statusCode":400,"timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-15 21:09:04"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694032a06e5b981643caeba9/add-to-cart","query":{},"requestId":"fd6703cb-885b-46c1-a753-088ff8b2d500","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.addToCart (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:253:7)","statusCode":404,"timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-15 21:09:04"}
{"body":{"productId":"694032a0e3cf3690af83aff0","wishlistId":"694032a0e3cf3690af83afee"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"b95a1aca-e6f7-4d58-a9e4-ee0f9b8065be","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:274:7)","statusCode":403,"timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:317:7)","statusCode":403,"timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/Users/arshah/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:341:7)","statusCode":404,"timestamp":"2025-12-15 21:09:04"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-15 21:09:05"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694032a1e84afd89b15b26b9","query":{},"requestId":"747f4f9d-546c-4ee7-b87a-dd2fc030a2b4","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:09:05"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-15 21:09:05"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694032a1e84afd89b15b26cd","query":{},"requestId":"07057730-dc4a-4f57-9cf9-25a5121c33ac","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at WishlistController.getWishlistById (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-15 21:09:05"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-17 20:44:06"}
{"body":{"productId":"693daa102c8c1bc742bdad19","wishlistId":"6942cfc26c693bb0570be55b"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"6eab37af-cbe1-4ee5-9949-020c2358aee5","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-17 20:44:06"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-17 20:47:02"}
{"body":{"productId":"693daa102c8c1bc742bdad19","wishlistId":"6942d0726c693bb0570be603"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"9ce56a48-493b-40f6-9f2b-fb81d5bdb510","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-17 20:47:02"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-17 20:47:39"}
{"body":{"productId":"693daa102c8c1bc742bdad19","wishlistId":"6942d08d6c693bb0570be629"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"369bd8fd-4db4-4de7-8e93-59cea5208adc","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-17 20:47:39"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-17 20:47:47"}
{"body":{"productId":"693daa102c8c1bc742bdad19","wishlistId":"6942d08d6c693bb0570be629"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"3cbfdee3-414b-4dc7-8a56-b33dfe483afe","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-17 20:47:47"}
{"level":"error","message":"Error adding product to wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":403,"timestamp":"2025-12-17 20:48:01"}
{"body":{"productId":"693daa102c8c1bc742bdad19","wishlistId":"6942d08d6c693bb0570be629"},"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"2fa2e26f-ffcb-458f-a190-3c6dc90a587e","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.addProduct (/Users/arshah/s-prod-ecom/backend/src/services/WishlistService.js:174:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WishlistController.createWishlistOrAddProduct (/Users/arshah/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-17 20:48:01"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-17 22:39:37"}
{"body":{"email":"aradmin@gmail.com","password":"ar123@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"4fe64797-486d-4134-948e-4780f29cc320","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-17 22:39:37"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-17 22:41:33"}
{"body":{"email":"arshahadmin@gmail.com","password":"ar123@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"b87957a9-0ba1-49a6-9683-9ca07cde806e","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-17 22:41:33"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:108:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-17 23:01:37"}
{"body":{"email":"fjm@gmail.com","password":"Arshah123456789"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"046863c6-c200-4c0f-b6f2-ec0901657212","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:108:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-17 23:01:37"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.weblab.ong39e2.mongodb.net","level":"error","message":"MongoDB connection error: querySrv ECONNREFUSED _mongodb._tcp.weblab.ong39e2.mongodb.net","service":"ecommerce-api","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.weblab.ong39e2.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-12-18 13:31:56"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.weblab.ong39e2.mongodb.net","level":"error","message":"MongoDB connection error: querySrv ECONNREFUSED _mongodb._tcp.weblab.ong39e2.mongodb.net","service":"ecommerce-api","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.weblab.ong39e2.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-12-18 13:33:52"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:422:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrderController.trackOrder (/Users/arshah/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-18 13:37:36"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/0000-0000/track","query":{},"requestId":"889f2d4e-a1bf-430f-aee7-116c55ce4c71","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/arshah/s-prod-ecom/backend/src/services/OrderService.js:422:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OrderController.trackOrder (/Users/arshah/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-18 13:37:36"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:108:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-18 13:42:03"}
{"body":{"email":"ganzhsjsh@gmail.com","password":"tcc224250@"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"b3d24113-e624-4c3a-9097-d2a8de4ca1b4","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/arshah/s-prod-ecom/backend/src/services/AuthService.js:108:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/Users/arshah/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-18 13:42:03"}
{"errorLabelSet":{},"level":"error","message":"Error getting cart: Topology is closed","service":"ecommerce-api","stack":"MongoTopologyClosedError: Topology is closed\n    at Topology.close (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/topology.js:254:40)\n    at MongoClient._close (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/mongo_client.js:360:18)\n    at async MongoClient.close (/Users/arshah/s-prod-ecom/backend/node_modules/mongodb/lib/mongo_client.js:326:13)\n    at async NativeConnection.doClose (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:201:3)\n    at async NativeConnection._close (/Users/arshah/s-prod-ecom/backend/node_modules/mongoose/lib/connection.js:1264:7)\n    at async process.<anonymous> (/Users/arshah/s-prod-ecom/backend/src/config/database.js:31:7)","timestamp":"2025-12-18 14:39:29"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.weblab.ong39e2.mongodb.net","level":"error","message":"MongoDB connection error: querySrv ECONNREFUSED _mongodb._tcp.weblab.ong39e2.mongodb.net","service":"ecommerce-api","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.weblab.ong39e2.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-12-18 14:41:19"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=nLf6-JQuoYEkb2DgWnWclrYLgWpSR8hTUbf_kulEsOJmeuD6Dc5CE0OwZFBJwB-pReLiW6rAyiH12WVM","content-type":"application/json","date":"Wed, 24 Dec 2025 17:55:50 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating Stripe payment intent: Invalid API Key provided: sk_test_******************_key","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=nLf6-JQuoYEkb2DgWnWclrYLgWpSR8hTUbf_kulEsOJmeuD6Dc5CE0OwZFBJwB-pReLiW6rAyiH12WVM","content-type":"application/json","date":"Wed, 24 Dec 2025 17:55:50 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_******************_key","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/anas/Documents/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-12-24 22:55:50","type":"StripeAuthenticationError"}
{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=nLf6-JQuoYEkb2DgWnWclrYLgWpSR8hTUbf_kulEsOJmeuD6Dc5CE0OwZFBJwB-pReLiW6rAyiH12WVM","content-type":"application/json","date":"Wed, 24 Dec 2025 17:55:50 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"level":"error","message":"Error creating checkout session: Invalid API Key provided: sk_test_******************_key","raw":{"headers":{"access-control-allow-credentials":"true","access-control-allow-methods":"GET, HEAD, PUT, PATCH, POST, DELETE","access-control-allow-origin":"*","access-control-expose-headers":"Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required","access-control-max-age":"300","cache-control":"no-cache, no-store","connection":"keep-alive","content-length":"132","content-security-policy":"base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=nLf6-JQuoYEkb2DgWnWclrYLgWpSR8hTUbf_kulEsOJmeuD6Dc5CE0OwZFBJwB-pReLiW6rAyiH12WVM","content-type":"application/json","date":"Wed, 24 Dec 2025 17:55:50 GMT","server":"nginx","strict-transport-security":"max-age=63072000; includeSubDomains; preload","vary":"Origin","www-authenticate":"Bearer realm=\"Stripe\"","x-robots-tag":"none","x-wc":"ABHIJ"},"message":"Invalid API Key provided: sk_test_******************_key","statusCode":401,"type":"invalid_request_error"},"rawType":"invalid_request_error","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/anas/Documents/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-12-24 22:55:50","type":"StripeAuthenticationError"}
{"body":{"billingAddress":{"city":"34gsd","country":"33$","state":"12","street":"fdgw3324___++","zipCode":"qww))"},"email":"aaa@gmail.ccom","firstName":"sd33","lastName":"34$","paymentMethod":"stripe","shippingAddress":{"city":"34gsd","country":"33$","state":"12","street":"fdgw3324___++","zipCode":"qww))"}},"error":"Invalid API Key provided: sk_test_******************_key","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout","query":{},"requestId":"9225a9db-baba-4f54-9633-654c0359a78a","service":"ecommerce-api","stack":"Error: Invalid API Key provided: sk_test_******************_key\n    at res.toJSON.then.Error_js_1.StripeAPIError.message (/Users/anas/Documents/s-prod-ecom/backend/node_modules/stripe/cjs/RequestSender.js:102:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-24 22:55:50"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:00:22"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah1234567"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"86329ad2-2f3d-4703-83c0-a4ed723dcec2","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:00:22"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:00:42"}
{"body":{"email":"arshahdev08@gmail.com","password":"arshahdev08@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"a8feb6c6-ad09-4b31-90ea-65b2dcfa5b1b","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:00:42"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:01:19"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah1234567"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"e1436333-ffbd-457e-a2ed-7bb08d40a99a","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:01:19"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:02:08"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah1234567"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"13a83da9-fe55-42d1-b5c8-43afea3f7a29","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:02:08"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:02:20"}
{"body":{"email":"arshahdev08@gmail.com","password":"arshah08@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"d7640074-7941-4b6e-99d5-2c0164d0991d","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:02:20"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:02:23"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah08@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"aa171208-6d44-42bd-b756-f8b547104d99","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:02:23"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:02:27"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah08@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"1b9ef19e-29e2-417e-97b7-16120a2d036d","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:02:27"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:02:28"}
{"body":{"email":"arshahdev08@gmail.com","password":"Arshah08@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"262e8204-c102-4bcc-88ca-42d37e5a924c","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:02:28"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-24 23:04:23"}
{"body":{"email":"arshahadmin@gmail.com","password":"Arshah08@gmail.com"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"4e5f1a23-925d-4a66-9f91-b54ad9ccae3a","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:116:23)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-24 23:04:23"}
{"_message":"Product validation failed","errors":{"description":{"kind":"required","message":"Product description is required","name":"ValidatorError","path":"description","properties":{"fullPath":"description","length":0,"message":"Product description is required","path":"description","type":"required","value":""},"value":""}},"level":"error","message":"Error creating product: Product validation failed: description: Product description is required","service":"ecommerce-api","stack":"ValidationError: Product validation failed: description: Product description is required\n    at Document.invalidate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Promise.all (index 1)\n    at async model.$__validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at async model.validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at async model.validateBeforeSave (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at async Kareem.execPre (/Users/anas/Documents/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)","statusCode":400,"timestamp":"2025-12-24 23:10:19"}
{"body":{"category":"Fruits","description":"","images":["https://images.unsplash.com/photo-1590502593747-42a996133562?q=80&w=1035&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],"name":"Lemon","price":56,"stock":56},"error":"Product validation failed: description: Product description is required","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/products","query":{},"requestId":"bac8fc02-71fc-4cc9-b7b8-54a533fbfe0a","service":"ecommerce-api","stack":"ValidationError: Product validation failed: description: Product description is required\n    at Document.invalidate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3370:32)\n    at validatePath (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3145:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Promise.all (index 1)\n    at async model.$__validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:3086:3)\n    at async model.validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/document.js:2663:5)\n    at async model.validateBeforeSave (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/plugins/validateBeforeSave.js:34:7)\n    at async Kareem.execPre (/Users/anas/Documents/s-prod-ecom/backend/node_modules/kareem/index.js:65:24)\n    at async model.$__save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)","timestamp":"2025-12-24 23:10:19"}
{"body":{"description":"Fruits","name":"Fruits"},"error":"next is not a function","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/categories","query":{},"requestId":"a07ff748-2852-476d-b39b-0c70bf9a4336","service":"ecommerce-api","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/src/models/Category.js:31:5)\n    at Kareem.execPre (/Users/anas/Documents/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.$__save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at async Function.create (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at async CategoryController.createCategory (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CategoryController.js:28:30)","timestamp":"2025-12-24 23:30:16"}
{"body":{"description":"Fruits","name":"Fruits"},"error":"next is not a function","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/categories","query":{},"requestId":"80e1eb1a-9d48-4c75-9122-ad77941c1fb7","service":"ecommerce-api","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/src/models/Category.js:31:5)\n    at Kareem.execPre (/Users/anas/Documents/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.$__save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at async Function.create (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at async CategoryController.createCategory (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CategoryController.js:28:30)","timestamp":"2025-12-24 23:30:23"}
{"body":{"description":"good for health","name":"Fruits"},"error":"next is not a function","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/categories","query":{},"requestId":"f85bfcaa-bb65-4f13-8f0d-0a1b10a9e602","service":"ecommerce-api","stack":"TypeError: next is not a function\n    at model.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/src/models/Category.js:31:5)\n    at Kareem.execPre (/Users/anas/Documents/s-prod-ecom/backend/node_modules/kareem/index.js:63:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.$__save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:369:5)\n    at async model.save (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:609:5)\n    at async /Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2722:9\n    at async Promise.all (index 0)\n    at async Function.create (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/model.js:2707:11)\n    at async CategoryController.createCategory (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CategoryController.js:28:30)","timestamp":"2025-12-24 23:31:40"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:108:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","statusCode":401,"timestamp":"2025-12-25 00:10:55"}
{"body":{"email":"test@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"a277d681-fa89-44fe-9293-7d87b3be6793","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:108:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:42:22)","timestamp":"2025-12-25 00:10:55"}
{"level":"error","message":"Error refreshing access token: Invalid or expired refresh token","service":"ecommerce-api","stack":"Error: Invalid or expired refresh token\n    at AuthService.refreshAccessToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:216:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async AuthController.refreshToken (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:66:22)","statusCode":401,"timestamp":"2025-12-25 00:11:53"}
{"body":{"refreshToken":"7ed30803ea4f8c674915e7360ccdcf9590b71c84cb0aab37e9dd820402759644541e1993352887af"},"error":"Invalid or expired refresh token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/refresh-token","query":{},"requestId":"a883175b-684c-4b9d-887d-0fceb84633a6","service":"ecommerce-api","stack":"Error: Invalid or expired refresh token\n    at AuthService.refreshAccessToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:216:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async AuthController.refreshToken (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:66:22)","timestamp":"2025-12-25 00:11:53"}
{"level":"error","message":"Error refreshing access token: Invalid or expired refresh token","service":"ecommerce-api","stack":"Error: Invalid or expired refresh token\n    at AuthService.refreshAccessToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:216:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async AuthController.refreshToken (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:66:22)","statusCode":401,"timestamp":"2025-12-25 00:12:08"}
{"body":{"refreshToken":"f8b17da42e525a6d69c1673e0a428f5073b893646f4b0f5c241ce01222ee6d52db2067cfdd13df65"},"error":"Invalid or expired refresh token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/refresh-token","query":{},"requestId":"b2d7b7a9-eb1c-4947-ae3a-6c4a5b350221","service":"ecommerce-api","stack":"Error: Invalid or expired refresh token\n    at AuthService.refreshAccessToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:216:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async AuthController.refreshToken (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:66:22)","timestamp":"2025-12-25 00:12:08"}
{"body":{"email":"arshahadmin@gmail.com","password":"Arshah1234567"},"error":"email is not defined","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"551fa91a-ff3c-46f3-b013-fe95b901ba28","service":"ecommerce-api","stack":"ReferenceError: email is not defined\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:44:46)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at handleValidationErrors (/Users/anas/Documents/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/anas/Documents/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 00:15:10"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:122:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-25 00:20:38"}
{"body":{"productId":"675d69df4bc5b12661022f60","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"9294468b-fd61-4780-b62b-e080086ad7c5","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:122:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-25 00:20:38"}
{"level":"error","message":"Error getting order history: mongoose is not defined","service":"ecommerce-api","stack":"ReferenceError: mongoose is not defined\n    at OrderService.getOrderHistory (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:303:28)\n    at OrderController.getOrders (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:30:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 00:32:03"}
{"error":"mongoose is not defined","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders","query":{"limit":"20","page":"1"},"requestId":"9907cad1-fe71-47d6-9d88-fedaaa1352b3","service":"ecommerce-api","stack":"ReferenceError: mongoose is not defined\n    at OrderService.getOrderHistory (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:303:28)\n    at OrderController.getOrders (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:30:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 00:32:03"}
{"level":"error","message":"Error getting order history: mongoose is not defined","service":"ecommerce-api","stack":"ReferenceError: mongoose is not defined\n    at OrderService.getOrderHistory (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:303:28)\n    at OrderController.getOrders (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:30:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 00:32:09"}
{"error":"mongoose is not defined","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders","query":{"limit":"20","page":"1"},"requestId":"11eec6cb-9f1e-4c6f-abf0-1193f09bfcec","service":"ecommerce-api","stack":"ReferenceError: mongoose is not defined\n    at OrderService.getOrderHistory (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:303:28)\n    at OrderController.getOrders (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:30:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 00:32:09"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-25 00:51:10"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/yggjhghjgjjg/track","query":{},"requestId":"8b820092-94a0-43da-84e9-cec42dc9d23b","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-25 00:51:10"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-25 00:51:20"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/yggjhghjgjjg/track","query":{},"requestId":"3d916fa8-b7d7-4fce-9b99-8753196fa8ac","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-25 00:51:20"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-25 00:51:21"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/yggjhghjgjjg/track","query":{},"requestId":"9d39b9cf-be7c-4345-ad50-0f77969821d4","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-25 00:51:21"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-25 00:51:31"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/765675567657gggv/track","query":{},"requestId":"c9f7f2cb-e242-4b90-9285-846754ad5da2","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-25 00:51:31"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-25 00:51:42"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/765675567657gggv/track","query":{},"requestId":"7bbc8348-91ed-498d-8911-9be9ec38c43b","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-25 00:51:42"}
{"level":"error","message":"Error getting order tracking: Order not found","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","statusCode":404,"timestamp":"2025-12-25 00:51:44"}
{"error":"Order not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/orders/765675567657gggv/track","query":{},"requestId":"cf0c09db-a077-42b0-be97-5d633933a365","service":"ecommerce-api","stack":"Error: Order not found\n    at OrderService.getOrderTracking (/Users/anas/Documents/s-prod-ecom/backend/src/services/OrderService.js:424:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OrderController.trackOrder (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/OrderController.js:179:24)","timestamp":"2025-12-25 00:51:44"}
{"error":"request entity too large","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/upload","query":{},"service":"ecommerce-api","stack":"PayloadTooLargeError: request entity too large\n    at readStream (/Users/anas/Documents/s-prod-ecom/backend/node_modules/raw-body/index.js:163:17)\n    at getRawBody (/Users/anas/Documents/s-prod-ecom/backend/node_modules/raw-body/index.js:116:12)\n    at read (/Users/anas/Documents/s-prod-ecom/backend/node_modules/body-parser/lib/read.js:114:3)\n    at jsonParser (/Users/anas/Documents/s-prod-ecom/backend/node_modules/body-parser/lib/types/json.js:90:5)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/index.js:342:13)\n    at /Users/anas/Documents/s-prod-ecom/backend/node_modules/router/index.js:297:9\n    at processParams (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/index.js:582:12)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/index.js:291:5)\n    at cors (/Users/anas/Documents/s-prod-ecom/backend/node_modules/cors/lib/index.js:188:7)","timestamp":"2025-12-25 21:46:19"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-25 22:46:17"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-25 22:46:17"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-25 22:46:17"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-25 22:46:18"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694d7869feb706f9210a8a39/add-to-cart","query":{},"requestId":"b0d10345-039e-4c3f-a9fd-5c833b6306a6","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-25 22:46:18"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-25 22:46:18"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694d786afeb706f9210a8a54/add-to-cart","query":{},"requestId":"89ae1caf-8f82-422c-86a9-6b1505a74570","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-25 22:46:18"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:187:7)","statusCode":404,"timestamp":"2025-12-25 22:46:18"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:224:7)","statusCode":400,"timestamp":"2025-12-25 22:46:18"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-25 22:46:18"}
{"body":{"productId":"694d786aae85583ee5c9c68c","wishlistId":"694d786aae85583ee5c9c68a"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"57a56975-27ed-496e-9604-217c84ec54cb","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-25 22:46:18"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-25 22:46:19"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694d786bfeb706f9210a8aaf/add-to-cart","query":{},"requestId":"98c2b4b0-a986-4dcd-ae7d-fa92c6a0baed","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-25 22:46:19"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:253:7)","statusCode":404,"timestamp":"2025-12-25 22:46:19"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:274:7)","statusCode":403,"timestamp":"2025-12-25 22:46:19"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:317:7)","statusCode":403,"timestamp":"2025-12-25 22:46:19"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:341:7)","statusCode":404,"timestamp":"2025-12-25 22:46:19"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-25 22:46:25"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694d787186034dacc01df59b/products/694d787186034dacc01df58f","query":{},"requestId":"df65e69c-47b4-41ce-a719-96642b5c684b","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-25 22:46:25"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-25 22:46:25"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694d787109b2748217db9343","query":{},"requestId":"f62b8fee-b199-4ea6-89c6-08c2cdc24f74","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-25 22:46:25"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-25 22:46:25"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694d787186034dacc01df5cf/products/694d787186034dacc01df5c5","query":{},"requestId":"57ea82e0-edd9-43f5-a9fb-078526972f6b","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-25 22:46:25"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-25 22:46:25"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694d787109b2748217db9359","query":{},"requestId":"0f62ae35-985b-45c6-aa99-ee1e8d38ac0c","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-25 22:46:25"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-25 22:46:25"}
{"body":{"productId":"694d7871198d89949b75127b"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"654a428b-f08e-4ef4-aa72-8b4de694a7a6","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-25 22:46:25"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-25 22:46:26"}
{"body":{"productId":"694d7872198d89949b7512f3"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"9c69fd97-1b46-48dc-8c5f-86ceed1aa649","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-25 22:46:26"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/anas/Documents/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2025-12-25 22:46:27"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"3971468c-50b0-44a0-b731-49fc95826e88","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/anas/Documents/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 22:46:27"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-25 22:46:27"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"f0183bb9-84e2-4bf4-b45c-f4f2aea9a39d","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-25 22:46:27"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:46:29"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:46:29"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"14563719-7525-4c42-af75-2c3a01210f57","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","timestamp":"2025-12-25 22:46:29"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:46:29"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:46:29"}
{"body":{"password":"NewPassword123","token":"3902852b639eda6d103dfef5eb609fa71d1a51542509f938c6c4480fbc9855bf"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"900ffb65-fd7a-43bd-9f13-f21dde75b817","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","timestamp":"2025-12-25 22:46:29"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:122:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-25 22:46:29"}
{"body":{"productId":"694d7875ff1bc2657564c2c7","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"c75ded97-1331-45b3-95a0-5b767840d1b3","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:122:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-25 22:46:29"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:128:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-25 22:46:29"}
{"body":{"productId":"694d7875ff1bc2657564c2d7","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"3e9fe534-65f5-4a44-8b30-f3347b47302c","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:128:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-25 22:46:29"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:245:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-25 22:46:31"}
{"body":{"productId":"694d78779e78b1ee9269b473","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"690a0a79-e303-45b1-892d-ff589889f506","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:245:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-25 22:46:31"}
{"level":"error","message":"Error getting product by ID: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:120:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","statusCode":404,"timestamp":"2025-12-25 22:46:31"}
{"error":"Product not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/694d78775023dfaaecabdad5","query":{},"requestId":"1c16ddb7-5c5a-4a61-ba49-fdf577f7ac1a","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:120:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","timestamp":"2025-12-25 22:46:31"}
{"kind":"ObjectId","level":"error","message":"Error getting product by ID: Invalid product ID format","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:117:23)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","statusCode":400,"stringValue":"\"invalid-id\"","timestamp":"2025-12-25 22:46:31","value":"invalid-id","valueType":"string"}
{"error":"Invalid product ID format","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/invalid-id","query":{},"requestId":"a7eab835-9075-441c-85ad-3a53ba2a28b2","service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:117:23)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","timestamp":"2025-12-25 22:46:31"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:314:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-25 22:46:33"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"694d7879625d9ee5ed2e91ab"},"requestId":"55218311-d6bd-42e1-b44c-a2ddb6b07f67","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:314:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-25 22:46:33"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:18:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.register (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:15:22)","statusCode":400,"timestamp":"2025-12-25 22:46:36"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"99a317cc-ba55-4044-a22b-d4185b3eee19","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:18:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.register (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:15:22)","timestamp":"2025-12-25 22:46:36"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at model.Query.validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/services/UserService.js:42:20)\n    at UserController.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-25 22:46:43"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"3a42b713-a9b5-48cb-97fe-1ae110ab07ce","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at model.Query.validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/services/UserService.js:42:20)\n    at UserController.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-25 22:46:43"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:112:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","statusCode":401,"timestamp":"2025-12-25 22:46:44"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"29f7cdc4-5ada-433d-add3-2287d4aedf7d","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:112:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","timestamp":"2025-12-25 22:46:44"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:120:23)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","statusCode":401,"timestamp":"2025-12-25 22:46:45"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"0cb41c69-2de2-43a3-9d1a-ca1843634552","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:120:23)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","timestamp":"2025-12-25 22:46:45"}
{"level":"error","message":"Error removing item from cart: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:314:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","statusCode":404,"timestamp":"2025-12-25 22:47:17"}
{"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/cart","query":{"productId":"694d78a59766e54cf3e3bd4c"},"requestId":"96f68be9-bf8c-4175-83b2-0c3263406088","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:314:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.removeItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:84:20)","timestamp":"2025-12-25 22:47:17"}
{"level":"error","message":"Error registering user: Email already registered","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:18:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.register (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:15:22)","statusCode":400,"timestamp":"2025-12-25 22:47:18"}
{"body":{"email":"existing@example.com","firstName":"New","lastName":"User","password":"Password123"},"error":"Email already registered","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/register","query":{},"requestId":"035ff356-889a-4c3d-9c3a-7807ad2210b4","service":"ecommerce-api","stack":"Error: Email already registered\n    at AuthService.register (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:18:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.register (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:15:22)","timestamp":"2025-12-25 22:47:18"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:112:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","statusCode":401,"timestamp":"2025-12-25 22:47:18"}
{"body":{"email":"nonexistent@example.com","password":"Password123"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"bf5183e3-8685-4b87-8f89-46e25318686c","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:112:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","timestamp":"2025-12-25 22:47:18"}
{"level":"error","message":"Error logging in user: Invalid email or password","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:120:23)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","statusCode":401,"timestamp":"2025-12-25 22:47:18"}
{"body":{"email":"test@example.com","password":"WrongPassword"},"error":"Invalid email or password","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/login","query":{},"requestId":"2ce6a4a1-7660-4127-986b-f4cb81a72873","service":"ecommerce-api","stack":"Error: Invalid email or password\n    at AuthService.login (/Users/anas/Documents/s-prod-ecom/backend/src/services/AuthService.js:120:23)\n    at AuthController.login (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:45:22)","timestamp":"2025-12-25 22:47:18"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:113:7)","statusCode":404,"timestamp":"2025-12-25 22:47:22"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:135:7)","statusCode":409,"timestamp":"2025-12-25 22:47:23"}
{"_message":"Validation failed","errors":{"shippingAddresses.0.city":{"kind":"required","message":"Path `city` is required.","name":"ValidatorError","path":"shippingAddresses.0.city","properties":{"fullPath":"shippingAddresses.0.city","message":"Path `city` is required.","path":"city","type":"required"}},"shippingAddresses.0.country":{"kind":"required","message":"Path `country` is required.","name":"ValidatorError","path":"shippingAddresses.0.country","properties":{"fullPath":"shippingAddresses.0.country","message":"Path `country` is required.","path":"country","type":"required"}},"shippingAddresses.0.state":{"kind":"required","message":"Path `state` is required.","name":"ValidatorError","path":"shippingAddresses.0.state","properties":{"fullPath":"shippingAddresses.0.state","message":"Path `state` is required.","path":"state","type":"required"}},"shippingAddresses.0.zipCode":{"kind":"required","message":"Path `zipCode` is required.","name":"ValidatorError","path":"shippingAddresses.0.zipCode","properties":{"fullPath":"shippingAddresses.0.zipCode","message":"Path `zipCode` is required.","path":"zipCode","type":"required"}}},"level":"error","message":"Error updating user profile: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at model.Query.validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/services/UserService.js:42:20)\n    at UserController.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-25 22:47:23"}
{"body":{"shippingAddresses":[{"street":"123 Main St"}]},"error":"Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/users/me","query":{},"requestId":"de5ddd7c-0cdb-4c34-b88e-58d73dcf20a7","service":"ecommerce-api","stack":"ValidationError: Validation failed: shippingAddresses.0.country: Path `country` is required., shippingAddresses.0.zipCode: Path `zipCode` is required., shippingAddresses.0.state: Path `state` is required., shippingAddresses.0.city: Path `city` is required.\n    at updateValidators (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/helpers/updateValidators.js:186:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at model.Query.validate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4120:5)\n    at model.Query._findOneAndUpdate (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:3536:5)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:63)\n    at UserService.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/services/UserService.js:42:20)\n    at UserController.updateProfile (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/UserController.js:28:20)","timestamp":"2025-12-25 22:47:23"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at Object.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:142:25)\n    at Promise.finally.completed (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/anas/Documents/s-prod-ecom/backend/node_modules/jest-runner/build/testWorker.js:497:12)","statusCode":400,"timestamp":"2025-12-25 22:47:23"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:187:7)","statusCode":404,"timestamp":"2025-12-25 22:47:23"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:224:7)","statusCode":400,"timestamp":"2025-12-25 22:47:23"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:253:7)","statusCode":404,"timestamp":"2025-12-25 22:47:24"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:274:7)","statusCode":403,"timestamp":"2025-12-25 22:47:24"}
{"level":"error","message":"Error sharing wishlist: Not authorized to share this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to share this wishlist\n    at WishlistService.shareWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:419:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:317:7)","statusCode":403,"timestamp":"2025-12-25 22:47:24"}
{"level":"error","message":"Error viewing shared wishlist: Shared wishlist not found or invalid token","service":"ecommerce-api","stack":"Error: Shared wishlist not found or invalid token\n    at WishlistService.viewSharedWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:487:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/anas/Documents/s-prod-ecom/backend/tests/unit/test_wishlist_service.js:341:7)","statusCode":404,"timestamp":"2025-12-25 22:47:24"}
{"level":"error","message":"Error adding wishlist items to cart: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":404,"timestamp":"2025-12-25 22:47:25"}
{"body":{},"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694d78ad212da66de60fc903/add-to-cart","query":{},"requestId":"39e0a548-0180-47b3-ad64-2db5fbe8ab7f","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:508:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-25 22:47:25"}
{"level":"error","message":"Error adding wishlist items to cart: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":403,"timestamp":"2025-12-25 22:47:25"}
{"body":{},"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694d78ad212da66de60fc91e/add-to-cart","query":{},"requestId":"b49882e7-4bfc-41f6-b23f-251cc44191ea","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:528:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-25 22:47:25"}
{"level":"error","message":"Error adding wishlist items to cart: No products to add to cart","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","statusCode":400,"timestamp":"2025-12-25 22:47:26"}
{"body":{},"error":"No products to add to cart","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists/694d78ae212da66de60fc979/add-to-cart","query":{},"requestId":"15477a21-846f-4cf0-b70e-ee1970d71b99","service":"ecommerce-api","stack":"Error: No products to add to cart\n    at WishlistService.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:547:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.addToCart (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:265:22)","timestamp":"2025-12-25 22:47:26"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-25 22:47:26"}
{"body":{"productId":"694d78ae7c98e78d5566447f","wishlistId":"694d78ae7c98e78d5566447d"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"84dd05d2-e448-4a7c-968a-4c339dd84825","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-25 22:47:26"}
{"level":"error","message":"Error removing product from wishlist: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":404,"timestamp":"2025-12-25 22:47:28"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694d78b0a74f16a182a35910/products/694d78b0a74f16a182a35906","query":{},"requestId":"d17824ef-f1da-49af-a7a7-a3eb22e65f2d","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:251:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-25 22:47:28"}
{"level":"error","message":"Error getting wishlists: Wishlist not found","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":404,"timestamp":"2025-12-25 22:47:29"}
{"error":"Wishlist not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694d78b1e4300c0b055a76a7","query":{},"requestId":"6eefa5e8-6423-4cdd-bd8a-248af16424ae","service":"ecommerce-api","stack":"Error: Wishlist not found\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:21:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-25 22:47:29"}
{"level":"error","message":"Error removing product from wishlist: Not authorized to modify this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","statusCode":403,"timestamp":"2025-12-25 22:47:29"}
{"error":"Not authorized to modify this wishlist","level":"error","message":"Error occurred:","method":"DELETE","path":"/api/v1/wishlists/694d78b1a74f16a182a35944/products/694d78b1a74f16a182a3593a","query":{},"requestId":"b32507ac-dcd2-40b1-9149-27139b782719","service":"ecommerce-api","stack":"Error: Not authorized to modify this wishlist\n    at WishlistService.removeProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:264:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.removeFromWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:160:24)","timestamp":"2025-12-25 22:47:29"}
{"level":"error","message":"Error getting wishlists: Not authorized to access this wishlist","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","statusCode":403,"timestamp":"2025-12-25 22:47:29"}
{"error":"Not authorized to access this wishlist","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/wishlists/694d78b1e4300c0b055a76bd","query":{},"requestId":"10e736e1-4a93-4cf8-8cf2-de1722de15fa","service":"ecommerce-api","stack":"Error: Not authorized to access this wishlist\n    at WishlistService.getWishlists (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:44:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.getWishlistById (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:39:24)","timestamp":"2025-12-25 22:47:29"}
{"level":"error","message":"Error getting product by ID: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:120:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","statusCode":404,"timestamp":"2025-12-25 22:47:29"}
{"error":"Product not found","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/694d78b13640dacaf59c5c0d","query":{},"requestId":"aca467bf-d166-404d-b51e-253ad05256e0","service":"ecommerce-api","stack":"Error: Product not found\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:120:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","timestamp":"2025-12-25 22:47:29"}
{"kind":"ObjectId","level":"error","message":"Error getting product by ID: Invalid product ID format","path":"_id","reason":{},"service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:117:23)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","statusCode":400,"stringValue":"\"invalid-id\"","timestamp":"2025-12-25 22:47:29","value":"invalid-id","valueType":"string"}
{"error":"Invalid product ID format","level":"error","message":"Error occurred:","method":"GET","path":"/api/v1/products/invalid-id","query":{},"requestId":"2b1d66c4-7e20-4206-928b-7993c0cafa60","service":"ecommerce-api","stack":"CastError: Invalid product ID format\n    at SchemaObjectId.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1280:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/schemaType.js:1706:17)\n    at cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:5016:12)\n    at model.Query.Query._castConditions (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2380:10)\n    at model.Query._findOne (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:2708:8)\n    at model.Query.exec (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at ProductService.getProductById (/Users/anas/Documents/s-prod-ecom/backend/src/services/ProductService.js:117:23)\n    at ProductController.getProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/ProductController.js:50:23)","timestamp":"2025-12-25 22:47:29"}
{"level":"error","message":"Error adding product to wishlist: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":404,"timestamp":"2025-12-25 22:47:29"}
{"body":{"productId":"694d78b176c951049c944693"},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"124ae921-9040-4a6e-861c-de1599676ad8","service":"ecommerce-api","stack":"Error: Product not found\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:145:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-25 22:47:29"}
{"level":"error","message":"Error adding product to wishlist: Wishlist cannot contain more than 50 products","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","statusCode":400,"timestamp":"2025-12-25 22:47:30"}
{"body":{"productId":"694d78b276c951049c94470b"},"error":"Wishlist cannot contain more than 50 products","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"0370dd81-4380-4c59-ac93-592b1fb415c6","service":"ecommerce-api","stack":"Error: Wishlist cannot contain more than 50 products\n    at WishlistService.addProduct (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:219:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:70:20)","timestamp":"2025-12-25 22:47:30"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:47:34"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:47:34"}
{"body":{"password":"NewPassword123","token":"invalid-token"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"e46de66c-f9d5-4e6a-b76c-1929e4208c5d","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","timestamp":"2025-12-25 22:47:34"}
{"level":"error","message":"Error creating wishlist: User ID is required to create named wishlist","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/anas/Documents/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":400,"timestamp":"2025-12-25 22:47:34"}
{"body":{"name":"Gift Ideas"},"error":"User ID is required to create named wishlist","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"b6840e43-2089-436d-aced-bc5bf3f35061","service":"ecommerce-api","stack":"Error: User ID is required to create named wishlist\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:98:23)\n    at WishlistController.createWishlist [as createWishlistOrAddProduct] (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:42)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/src/utils/validators.js:13:3)\n    at Layer.handleRequest (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/anas/Documents/s-prod-ecom/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-12-25 22:47:34"}
{"level":"error","message":"Error validating reset token: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:47:38"}
{"level":"error","message":"Error resetting password: Invalid or expired reset token","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","statusCode":400,"timestamp":"2025-12-25 22:47:38"}
{"body":{"password":"NewPassword123","token":"abf828aa9c77bb398c25eb750f3d4308da28f455b69b5155a9d4bed85b34e4a2"},"error":"Invalid or expired reset token","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/auth/reset-password","query":{},"requestId":"d2b3b37e-46eb-4665-b491-458cd5bb00fc","service":"ecommerce-api","stack":"Error: Invalid or expired reset token\n    at PasswordService.validateResetToken (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:56:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at PasswordService.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/services/PasswordService.js:73:20)\n    at AuthController.resetPassword (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/AuthController.js:109:7)","timestamp":"2025-12-25 22:47:38"}
{"level":"error","message":"Error creating wishlist: Wishlist with this name already exists","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","statusCode":409,"timestamp":"2025-12-25 22:47:39"}
{"body":{"name":"Gift Ideas"},"error":"Wishlist with this name already exists","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/wishlists","query":{},"requestId":"3b2202b3-a610-4b6d-9582-f830fec5a626","service":"ecommerce-api","stack":"Error: Wishlist with this name already exists\n    at WishlistService.createWishlist (/Users/anas/Documents/s-prod-ecom/backend/src/services/WishlistService.js:106:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at WishlistController.createWishlistOrAddProduct (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/WishlistController.js:67:20)","timestamp":"2025-12-25 22:47:39"}
{"level":"error","message":"Error adding item to cart: Product not found","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:122:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":404,"timestamp":"2025-12-25 22:47:39"}
{"body":{"productId":"694d78bbdee046e5809935df","quantity":1},"error":"Product not found","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"34edf609-18cc-475a-a14c-b6b663215c16","service":"ecommerce-api","stack":"Error: Product not found\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:122:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-25 22:47:39"}
{"level":"error","message":"Error adding item to cart: Insufficient stock available","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:128:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","statusCode":400,"timestamp":"2025-12-25 22:47:40"}
{"body":{"productId":"694d78bcdee046e5809935f3","quantity":1},"error":"Insufficient stock available","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/cart","query":{},"requestId":"cfdd82a3-746d-4dd0-ad10-7f42a1983853","service":"ecommerce-api","stack":"Error: Insufficient stock available\n    at CartService.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:128:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.addItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:36:20)","timestamp":"2025-12-25 22:47:40"}
{"level":"error","message":"Error updating cart item: Item not found in cart","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:245:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","statusCode":404,"timestamp":"2025-12-25 22:47:44"}
{"body":{"productId":"694d78c04b3781111cc5fd4c","quantity":2},"error":"Item not found in cart","level":"error","message":"Error occurred:","method":"PUT","path":"/api/v1/cart","query":{},"requestId":"bf3484da-0493-47ca-aec6-6894e60dcd9f","service":"ecommerce-api","stack":"Error: Item not found in cart\n    at CartService.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/services/CartService.js:245:23)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at CartController.updateItem (/Users/anas/Documents/s-prod-ecom/backend/src/controllers/CartController.js:60:20)","timestamp":"2025-12-25 22:47:44"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7587853983801147398"},"signature":{"hash":"RFxlCdBVt6pvLzYEuS6wvwPzFOg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7587853983801147398"},"signature":{"hash":"RFxlCdBVt6pvLzYEuS6wvwPzFOg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7587853983801147398"}},"level":"error","message":"Error decrementing inventory: Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","ok":0,"operationTime":{"$timestamp":"7587853983801147398"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:48:47"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7587853983801147398"},"signature":{"hash":"RFxlCdBVt6pvLzYEuS6wvwPzFOg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7587853983801147398"},"signature":{"hash":"RFxlCdBVt6pvLzYEuS6wvwPzFOg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7587853983801147398"}},"level":"error","message":"Error confirming checkout: Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","ok":0,"operationTime":{"$timestamp":"7587853983801147398"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:48:47"}
{"body":{"billingAddress":{"city":"nrtjtej","country":"vddsgdssgdg","state":"uhuhuuh","street":"dsfsdfdsfs7778","zipCode":"677888"},"checkoutSessionId":"checkout_1766684925690_v9brglfek","email":"alime@gmail.com","firstName":"ali","lastName":"me","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"nrtjtej","country":"vddsgdssgdg","state":"uhuhuuh","street":"dsfsdfdsfs7778","zipCode":"677888"}},"error":"Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"c8345200-1997-4f30-bba6-65dd0bfa3602","service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session 04ed7f4e-3787-443b-bdc1-9b154a1851bf - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:48:47"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7587854138419970111"},"signature":{"hash":"JwyauvSRwmxxTgozgzUAi5gTbUg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7587854138419970111"},"signature":{"hash":"JwyauvSRwmxxTgozgzUAi5gTbUg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7587854138419970111"}},"level":"error","message":"Error decrementing inventory: Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","ok":0,"operationTime":{"$timestamp":"7587854138419970111"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:49:23"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7587854138419970111"},"signature":{"hash":"JwyauvSRwmxxTgozgzUAi5gTbUg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7587854138419970111"},"signature":{"hash":"JwyauvSRwmxxTgozgzUAi5gTbUg=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7587854138419970111"}},"level":"error","message":"Error confirming checkout: Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","ok":0,"operationTime":{"$timestamp":"7587854138419970111"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:49:23"}
{"body":{"billingAddress":{"city":"nrtjtej","country":"vddsgdssgdg","state":"uhuhuuh","street":"dsfsdfdsfs7778","zipCode":"677888"},"checkoutSessionId":"checkout_1766684925690_v9brglfek","email":"alime@gmail.com","firstName":"ali","lastName":"me","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"nrtjtej","country":"vddsgdssgdg","state":"uhuhuuh","street":"dsfsdfdsfs7778","zipCode":"677888"}},"error":"Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"af6730bd-1b48-4716-b02b-50188e65fd0d","service":"ecommerce-api","stack":"MongoServerError: Given transaction number 2 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 1\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:49:23"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7587854168484741137"},"signature":{"hash":"fuEYjCeiJPoKQrEJ3XCJAB+zq1M=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7587854168484741137"},"signature":{"hash":"fuEYjCeiJPoKQrEJ3XCJAB+zq1M=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7587854168484741137"}},"level":"error","message":"Error decrementing inventory: Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3","ok":0,"operationTime":{"$timestamp":"7587854168484741137"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:49:30"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7587854168484741137"},"signature":{"hash":"fuEYjCeiJPoKQrEJ3XCJAB+zq1M=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7587854168484741137"},"signature":{"hash":"fuEYjCeiJPoKQrEJ3XCJAB+zq1M=","keyId":{"high":1758561195,"low":57,"unsigned":false}}},"code":251,"codeName":"NoSuchTransaction","errmsg":"Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3","errorLabels":["TransientTransactionError"],"ok":0,"operationTime":{"$timestamp":"7587854168484741137"}},"level":"error","message":"Error confirming checkout: Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3","ok":0,"operationTime":{"$timestamp":"7587854168484741137"},"service":"ecommerce-api","stack":"MongoServerError: Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:49:30"}
{"body":{"billingAddress":{"city":"nrtjtej","country":"vddsgdssgdg","state":"uhuhuuh","street":"dsfsdfdsfs7778","zipCode":"677888"},"checkoutSessionId":"checkout_1766684925690_v9brglfek","email":"alime@gmail.com","firstName":"ali","lastName":"me","paymentMethod":"cash_on_delivery","shippingAddress":{"city":"nrtjtej","country":"vddsgdssgdg","state":"uhuhuuh","street":"dsfsdfdsfs7778","zipCode":"677888"}},"error":"Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3","level":"error","message":"Error occurred:","method":"POST","path":"/api/v1/checkout/confirm","query":{},"requestId":"5cd335ac-2c15-49f1-8770-dd41daa326f4","service":"ecommerce-api","stack":"MongoServerError: Given transaction number 4 on session 4aa9c4d8-4ada-46e3-80e1-d579d095317e - ddqot68vLpBUPnOuqFj2cdClv/dv/vF9ZVSwknYHEsE= -  -  using txnRetryCounter 0 does not match any in-progress transactions. The active transaction number is 3\n    at Connection.sendCommand (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:320:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cmap/connection.js:344:26)\n    at async Server.command (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/sdam/server.js:208:29)\n    at async tryOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:215:32)\n    at async executeOperation (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/operations/execute_operation.js:80:16)\n    at async FindCursor._initialize (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:620:27)\n    at async FindCursor.fetchBatch (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:654:13)\n    at async FindCursor.next (/Users/anas/Documents/s-prod-ecom/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:326:17)","timestamp":"2025-12-25 22:49:30"}
